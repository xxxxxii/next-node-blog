import{g as e}from"../get-intrinsic/get-intrinsic.DbCd8zmJ.js";import{b as t}from"../call-bind/call-bind.B6-k6Qo9.js";import{o as n}from"../object-inspect/object-inspect.C5JAGb_X.js";import{t as r}from"../es-errors/es-errors.Bza6HHKb.js";var o=e,i=t,a=n,f=r,p=o("%WeakMap%",!0),s=o("%Map%",!0),u=i("WeakMap.prototype.get",!0),c=i("WeakMap.prototype.set",!0),l=i("WeakMap.prototype.has",!0),y=i("Map.prototype.get",!0),x=i("Map.prototype.set",!0),b=i("Map.prototype.has",!0),j=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n},m=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new f("Side channel does not contain "+a(e))},get:function(r){if(p&&r&&("object"==typeof r||"function"==typeof r)){if(e)return u(e,r)}else if(s){if(t)return y(t,r)}else if(n)return function(e,t){var n=j(e,t);return n&&n.value}(n,r)},has:function(r){if(p&&r&&("object"==typeof r||"function"==typeof r)){if(e)return l(e,r)}else if(s){if(t)return b(t,r)}else if(n)return function(e,t){return!!j(e,t)}(n,r);return!1},set:function(r,o){p&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new p),c(e,r,o)):s?(t||(t=new s),x(t,r,o)):(n||(n={key:{},next:null}),function(e,t,n){var r=j(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,r,o))}};return r};export{m as s};
