import{x as e,a as t,k as o,W as n,U as a,C as l,$ as i,M as r}from"./@vavt.js";import{d as s,J as c,g as d,T as u,j as m,k as p,x as g,L as h,a4 as v,s as f,z as b,y,a7 as k,ae as w,O as C,X as x,R as T,I as S}from"./@vue.js";import{_ as I,E as A,H as E,s as F,k as L,d as j,h as H,i as M,a as O,m as B,u as P,r as V,b as N,c as D,e as R,f as z,p as _,C as W,l as q,g as $,S as U,j as K}from"./@codemirror.js";import{a as G}from"./@lezer.js";import{m as X}from"./medium-zoom.js";import{a as Z}from"./copy-to-clipboard.js";import{M as J}from"./markdown-it.js";import{r as Y}from"./markdown-it-image-figures.js";import{T as Q}from"./markdown-it-task-lists.js";import{L as ee}from"./lru-cache.js";const te="md-editor",oe="https://cdnjs.cloudflare.com/ajax/libs",ne="".concat(oe,"/highlight.js/11.8.0/highlight.min.js"),ae={main:"".concat(oe,"/prettier/2.8.0/standalone.js"),markdown:"".concat(oe,"/prettier/2.8.0/parser-markdown.js")},le={css:"".concat(oe,"/cropperjs/1.5.13/cropper.min.css"),js:"".concat(oe,"/cropperjs/1.5.13/cropper.min.js")},ie="".concat(oe,"/screenfull.js/5.2.0/screenfull.min.js"),re=["bold","underline","italic","strikeThrough","-","title","sub","sup","quote","unorderedList","orderedList","task","-","codeRow","code","link","image","table","mermaid","katex","-","revoke","next","save","=","prettier","pageFullscreen","fullscreen","preview","previewOnly","htmlPreview","catalog","github"],se=["markdownTotal","=","scrollSwitch"],ce={"zh-CN":{toolbarTips:{bold:"加粗",underline:"下划线",italic:"斜体",strikeThrough:"删除线",title:"标题",sub:"下标",sup:"上标",quote:"引用",unorderedList:"无序列表",orderedList:"有序列表",task:"任务列表",codeRow:"行内代码",code:"块级代码",link:"链接",image:"图片",table:"表格",mermaid:"mermaid图",katex:"katex公式",revoke:"后退",next:"前进",save:"保存",prettier:"美化",pageFullscreen:"浏览器全屏",fullscreen:"屏幕全屏",preview:"预览",previewOnly:"仅预览",htmlPreview:"html代码预览",catalog:"目录",github:"源码地址"},titleItem:{h1:"一级标题",h2:"二级标题",h3:"三级标题",h4:"四级标题",h5:"五级标题",h6:"六级标题"},imgTitleItem:{link:"添加链接",upload:"上传图片",clip2upload:"裁剪上传"},linkModalTips:{linkTitle:"添加链接",imageTitle:"添加图片",descLabel:"链接描述：",descLabelPlaceHolder:"请输入描述...",urlLabel:"链接地址：",urlLabelPlaceHolder:"请输入链接...",buttonOK:"确定"},clipModalTips:{title:"裁剪图片上传",buttonUpload:"上传"},copyCode:{text:"复制代码",successTips:"已复制！",failTips:"复制失败！"},mermaid:{flow:"流程图",sequence:"时序图",gantt:"甘特图",class:"类图",state:"状态图",pie:"饼图",relationship:"关系图",journey:"旅程图"},katex:{inline:"行内公式",block:"块级公式"},footer:{markdownTotal:"字数",scrollAuto:"同步滚动"}},"en-US":{toolbarTips:{bold:"bold",underline:"underline",italic:"italic",strikeThrough:"strikeThrough",title:"title",sub:"subscript",sup:"superscript",quote:"quote",unorderedList:"unordered list",orderedList:"ordered list",task:"task list",codeRow:"inline code",code:"block-level code",link:"link",image:"image",table:"table",mermaid:"mermaid",katex:"formula",revoke:"revoke",next:"undo revoke",save:"save",prettier:"prettier",pageFullscreen:"fullscreen in page",fullscreen:"fullscreen",preview:"preview",previewOnly:"preview only",htmlPreview:"html preview",catalog:"catalog",github:"source code"},titleItem:{h1:"Lv1 Heading",h2:"Lv2 Heading",h3:"Lv3 Heading",h4:"Lv4 Heading",h5:"Lv5 Heading",h6:"Lv6 Heading"},imgTitleItem:{link:"Add Img Link",upload:"Upload Img",clip2upload:"Clip Upload"},linkModalTips:{linkTitle:"Add Link",imageTitle:"Add Image",descLabel:"Desc:",descLabelPlaceHolder:"Enter a description...",urlLabel:"Link:",urlLabelPlaceHolder:"Enter a link...",buttonOK:"OK"},clipModalTips:{title:"Crop Image",buttonUpload:"Upload"},copyCode:{text:"Copy",successTips:"Copied!",failTips:"Copy failed!"},mermaid:{flow:"flow",sequence:"sequence",gantt:"gantt",class:"class",state:"state",pie:"pie",relationship:"relationship",journey:"journey"},katex:{inline:"inline",block:"block"},footer:{markdownTotal:"Character Count",scrollAuto:"Scroll Auto"}}},de="".concat(oe,"/mermaid/10.6.1/mermaid.esm.min.mjs"),ue={js:"".concat(oe,"/KaTeX/0.16.9/katex.min.js"),css:"".concat(oe,"/KaTeX/0.16.9/katex.min.css")},me={a11y:{light:"".concat(oe,"/highlight.js/11.8.0/styles/a11y-light.min.css"),dark:"".concat(oe,"/highlight.js/11.8.0/styles/a11y-dark.min.css")},atom:{light:"".concat(oe,"/highlight.js/11.8.0/styles/atom-one-light.min.css"),dark:"".concat(oe,"/highlight.js/11.8.0/styles/atom-one-dark.min.css")},github:{light:"".concat(oe,"/highlight.js/11.8.0/styles/github.min.css"),dark:"".concat(oe,"/highlight.js/11.8.0/styles/github-dark.min.css")},gradient:{light:"".concat(oe,"/highlight.js/11.8.0/styles/gradient-light.min.css"),dark:"".concat(oe,"/highlight.js/11.8.0/styles/gradient-dark.min.css")},kimbie:{light:"".concat(oe,"/highlight.js/11.8.0/styles/kimbie-light.min.css"),dark:"".concat(oe,"/highlight.js/11.8.0/styles/kimbie-dark.min.css")},paraiso:{light:"".concat(oe,"/highlight.js/11.8.0/styles/paraiso-light.min.css"),dark:"".concat(oe,"/highlight.js/11.8.0/styles/paraiso-dark.min.css")},qtcreator:{light:"".concat(oe,"/highlight.js/11.8.0/styles/qtcreator-light.min.css"),dark:"".concat(oe,"/highlight.js/11.8.0/styles/qtcreator-dark.min.css")},stackoverflow:{light:"".concat(oe,"/highlight.js/11.8.0/styles/stackoverflow-light.min.css"),dark:"".concat(oe,"/highlight.js/11.8.0/styles/stackoverflow-dark.min.css")}},pe={editorExtensions:{highlight:{js:ne,css:me},prettier:{standaloneJs:ae.main,parserMarkdownJs:ae.markdown},cropper:{...le},iconfont:"https://at.alicdn.com/t/c/font_2605852_cmafimm6hot.js",iconfontClass:"https://at.alicdn.com/t/c/font_2605852_cmafimm6hot.css",screenfull:{js:ie},mermaid:{js:de},katex:{...ue}},editorExtensionsAttrs:{},editorConfig:{languageUserDefined:{},mermaidTemplate:{},renderDelay:500,zIndex:2e4},codeMirrorExtensions:(e,t)=>t,markdownItConfig:()=>{},markdownItPlugins:e=>e,iconfontType:"svg",mermaidConfig:e=>e},ge=170,he=({instance:e,ctx:t,props:o={}},n="default")=>{const a=(null==e?void 0:e.$slots[n])||(null==t?void 0:t.slots[n]);return(a?a(e):"")||o[n]},ve=s({props:{overlay:{type:[String,Object],default:""},visible:{type:Boolean,default:!1},onChange:{type:Function,default:()=>{}},relative:{type:String,default:"html"}},setup(e,t){const o="".concat(te,"-dropdown-hidden"),n=u({overlayClass:[o],overlayStyle:{},triggerHover:!1,overlayHover:!1}),a=m(),l=m(),i=()=>{var t,o;n.triggerHover=!0;const i=a.value,r=l.value;if(!i||!r)return;const s=i.getBoundingClientRect(),c=i.offsetTop,d=i.offsetLeft,u=s.height,m=s.width,p=(null==(t=document.querySelector(e.relative))?void 0:t.scrollLeft)||0,g=(null==(o=document.querySelector(e.relative))?void 0:o.clientWidth)||0;let h=d-r.offsetWidth/2+m/2-p;h+r.offsetWidth>p+g&&(h=p+g-r.offsetWidth),h<0&&(h=0),n.overlayStyle={...n.overlayStyle,top:c+u+"px",left:h+"px"},e.onChange(!0)},r=()=>{n.overlayHover=!0};p((()=>e.visible),(e=>{e?n.overlayClass=n.overlayClass.filter((e=>e!==o)):n.overlayClass.push(o)}));let s=-1;const c=t=>{a.value===t.target?n.triggerHover=!1:n.overlayHover=!1,clearTimeout(s),s=window.setTimeout((()=>{n.overlayHover||n.triggerHover||e.onChange(!1)}),10)};return g((()=>{a.value.addEventListener("mouseenter",i),a.value.addEventListener("mouseleave",c),l.value.addEventListener("mouseenter",r),l.value.addEventListener("mouseleave",c)})),h((()=>{a.value.removeEventListener("mouseenter",i),a.value.removeEventListener("mouseleave",c),l.value.removeEventListener("mouseenter",r),l.value.removeEventListener("mouseleave",c)})),()=>{const o=he({ctx:t}),i=he({props:e,ctx:t},"overlay");return[v(o instanceof Array?o[0]:o,{ref:a,key:"cloned-dropdown-trigger"}),d("div",{class:["".concat(te,"-dropdown"),n.overlayClass],style:n.overlayStyle,ref:l},[d("div",{class:"".concat(te,"-dropdown-overlay")},[i instanceof Array?i[0]:i])])]}}}),fe=s({name:"DropdownToolbar",props:{title:{type:String,default:""},visible:{type:Boolean},trigger:{type:[String,Object]},onChange:{type:Function},overlay:{type:[String,Object]},insert:{type:Function},language:{type:String},theme:{type:String},previewTheme:{type:String},default:{type:[String,Object]}},emits:["onChange"],setup(e,t){const o=c("editorId");return()=>{const n=he({props:e,ctx:t},"trigger"),a=he({props:e,ctx:t},"overlay"),l=he({props:e,ctx:t});return d(ve,{relative:"#".concat(o,"-toolbar-wrapper"),visible:e.visible,onChange:o=>{e.onChange instanceof Function?e.onChange(o):t.emit("onChange",o)},overlay:a},{default:()=>[d("div",{class:"".concat(te,"-toolbar-item"),title:e.title||""},[n,l])]})}}});fe.install=e=>(e.component(fe.name,fe),e);var be=Object.defineProperty,ye=(e,t,o)=>(((e,t,o)=>{t in e?be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o})(e,"symbol"!=typeof t?t+"":t,o),o);const ke=new class{constructor(){ye(this,"pools",{})}remove(e,t,o){const n=this.pools[e]&&this.pools[e][t];n&&(this.pools[e][t]=n.filter((e=>e!==o)))}clear(e){this.pools[e]={}}on(e,t){return this.pools[e]||(this.pools[e]={}),this.pools[e][t.name]||(this.pools[e][t.name]=[]),this.pools[e][t.name].push(t.callback),this.pools[e][t.name].includes(t.callback)}emit(e,t,...o){this.pools[e]||(this.pools[e]={});const n=this.pools[e][t];n&&n.forEach((e=>{try{e(...o)}catch(n){console.error("".concat(t," monitor event exception！"),n)}}))}},we="onSave",Ce="changeCatalogVisible",xe="changeFullscreen",Te="pageFullscreenChanged",Se="fullscreenChanged",Ie="previewChanged",Ae="previewOnlyChanged",Ee="htmlPreviewChanged",Fe="catalogVisibleChanged",Le="buildFinished",je="errorCatcher",He="replace",Me="uploadImage",Oe="openModals",Be="ctrlZ",Pe="ctrlShiftZ",Ve="catalogChanged",Ne="pushCatalog",De="rerender",Re="eventListener",ze=(e,t)=>{const o=o=>{const n=e.parentElement||document.body,a=n.offsetWidth,l=n.offsetHeight,{clientWidth:i}=document.documentElement,{clientHeight:r}=document.documentElement,s=o.offsetX,c=o.offsetY,d=e=>{let o=e.x+document.body.scrollLeft-document.body.clientLeft-s,d=e.y+document.body.scrollTop-document.body.clientTop-c;o=o<1?1:o<i-a-1?o:i-a-1,d=d<1?1:d<r-l-1?d:r-l-1,t?t(o,d):(n.style.left="".concat(o,"px"),n.style.top="".concat(d,"px"))};document.addEventListener("mousemove",d);const u=()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",u)};document.addEventListener("mouseup",u)};return e.addEventListener("mousedown",o),()=>{e.removeEventListener("mousedown",o)}},_e=(e,t,o="")=>{var n;const a=document.getElementById(t.id);if(a)""!==o&&(Reflect.get(window,o)?null==(n=t.onload)||n.call(a,new Event("load")):t.onload&&a.addEventListener("load",t.onload));else{const o={...t};o.onload=null;const n=We(e,o);t.onload&&n.addEventListener("load",t.onload),document.head.appendChild(n)}},We=(e,t)=>{const o=document.createElement(e);return Object.keys(t).forEach((e=>{void 0!==t[e]&&(o[e]=t[e])})),o},qe=(e,t="image.png")=>{const o=e.split(","),n=o[0].match(/:(.*?);/);if(n){const e=n[1],a=atob(o[1]);let l=a.length;const i=new Uint8Array(l);for(;l--;)i[l]=a.charCodeAt(l);return new File([i],t,{type:e})}return null},$e=(()=>{let e=0;return t=>t+ ++e})(),Ue=(()=>{let e=0;return()=>++e})(),Ke=s({props:{name:{type:String,default:""}},setup:e=>()=>d("svg",{class:"".concat(te,"-icon"),"aria-hidden":"true"},[d("use",{"xlink:href":"#".concat(te,"-icon-").concat(e.name)},null)])}),Ge=s({props:{name:{type:String,default:""}},setup(e){const t=c("customIcon");return()=>{const o=t.value[e.name];return"object"==typeof o?"object"==typeof o.component?w(o.component,o.props):d("span",{innerHTML:o.component},null):d(Ke,{name:e.name},null)}}}),Xe=s({name:"MdModal",props:{title:{type:String,default:""},visible:{type:Boolean,default:!1},width:{type:String,default:"auto"},height:{type:String,default:"auto"},onClose:{type:Function},showAdjust:{type:Boolean,default:!1},isFullscreen:{type:Boolean,default:!1},onAdjust:{type:Function,default:()=>{}},class:{type:String},style:{type:Object,default:()=>({})}},emits:["onClose"],setup(e,t){const o=c("theme"),n=m(e.visible),a=m(["".concat(te,"-modal")]),l=m(),i=m(),r=m(),s=f();let h=()=>{};const v=u({maskStyle:{zIndex:-1},modalStyle:{zIndex:-1},initPos:{left:"0px",top:"0px"},historyPos:{left:"0px",top:"0px"}}),w=b((()=>e.isFullscreen?{width:"100%",height:"100%"}:{width:e.width,height:e.height}));return p((()=>e.isFullscreen),(e=>{e?h():y((()=>{h=ze(i.value,((e,t)=>{v.initPos.left=e+"px",v.initPos.top=t+"px"}))}))})),p((()=>e.visible),(t=>{t?(v.maskStyle.zIndex=pe.editorConfig.zIndex+Ue(),v.modalStyle.zIndex=pe.editorConfig.zIndex+Ue(),a.value.push("zoom-in"),n.value=t,y((()=>{const t=l.value.offsetWidth/2,o=l.value.offsetHeight/2,n=document.documentElement.clientWidth/2,a=document.documentElement.clientHeight/2;v.initPos.left=n-t+"px",v.initPos.top=a-o+"px",e.isFullscreen||(h=ze(i.value,((e,t)=>{v.initPos.left=e+"px",v.initPos.top=t+"px"})))})),setTimeout((()=>{a.value=a.value.filter((e=>"zoom-in"!==e))}),140)):(a.value.push("zoom-out"),h(),setTimeout((()=>{a.value=a.value.filter((e=>"zoom-out"!==e)),n.value=t}),130))})),g((()=>{r.value=document.body})),()=>{const c=he({ctx:t}),u=he({props:e,ctx:t},"title");return r.value?d(k,{to:r.value},{default:()=>[d("div",{ref:s,class:"".concat(te,"-modal-container"),"data-theme":o.value},[d("div",{class:e.class,style:{...e.style,display:n.value?"block":"none"}},[d("div",{class:"".concat(te,"-modal-mask"),style:v.maskStyle,onClick:()=>{e.onClose?e.onClose():t.emit("onClose")}},null),d("div",{class:a.value,style:{...v.modalStyle,...v.initPos,...w.value},ref:l},[d("div",{class:"".concat(te,"-modal-header"),ref:i},[u||""]),d("div",{class:"".concat(te,"-modal-body")},[c]),d("div",{class:"".concat(te,"-modal-func")},[e.showAdjust&&d("div",{class:"".concat(te,"-modal-adjust"),onClick:t=>{t.stopPropagation(),e.isFullscreen?v.initPos=v.historyPos:(v.historyPos=v.initPos,v.initPos={left:"0",top:"0"}),e.onAdjust(!e.isFullscreen)}},[d(Ge,{name:e.isFullscreen?"suoxiao":"fangda"},null)]),d("div",{class:"".concat(te,"-modal-close"),onClick:o=>{o.stopPropagation(),e.onClose?e.onClose():t.emit("onClose")}},[d(Ge,{name:"close"},null)])])])])])]}):""}}});function Ze(e,t){for(var o=0;o<t.length;o++){const n=t[o];if("string"!=typeof n&&!Array.isArray(n))for(const t in n)if("default"!==t&&!(t in e)){const o=Object.getOwnPropertyDescriptor(n,t);o&&Object.defineProperty(e,t,o.get?o:{enumerable:!0,get:()=>n[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}Xe.install=e=>(e.component(Xe.name,Xe),e);const Je=e=>{const t=c("highlight"),o=f(pe.editorExtensions.highlight.instance);return g((()=>{e.noHighlight||o.value||(_e("link",{...t.value.css,rel:"stylesheet",id:"".concat(te,"-hlCss")}),_e("script",{...t.value.js,id:"".concat(te,"-hljs"),onload(){o.value=window.hljs}},"hljs"))})),p((()=>t.value.css),(()=>{((e,t)=>{const o=document.getElementById(t.id);null==o||o.remove(),_e(e,t)})("link",{...t.value.css,rel:"stylesheet",id:"".concat(te,"-hlCss")})})),o},Ye=(e,t)=>{const o=e.renderer.rules.fence.bind(e.renderer.rules);e.renderer.rules.fence=(e,n,a,l,i)=>{const r=e[n],s=r.content.trim();if("mermaid"===r.info){let o;return e[n].map&&0===e[n].level&&(o=e[n].map[0],e[n].attrSet("data-line",String(o))),'<div class="'.concat(te,'-mermaid" ').concat(void 0!==o?"data-line="+o:""," data-mermaid-theme=").concat(t.themeRef.value,">").concat(s,"</div>")}return o(e,n,a,l,i)}},Qe=(e,t)=>{const o=e.attrs?e.attrs.slice():[];return t.forEach((t=>{const n=e.attrIndex(t[0]);n<0?o.push(t):(o[n]=o[n].slice(),o[n][1]+=" ".concat(t[1]))})),o},et=(e,t)=>{let o=!0,n=!0;const a=e.posMax,l=t>0?e.src.charCodeAt(t-1):-1,i=t+1<=a?e.src.charCodeAt(t+1):-1;return(32===l||9===l||i>=48&&i<=57)&&(n=!1),32!==i&&9!==i||(o=!1),{can_open:o,can_close:n}},tt=(e,t)=>{let o,n,a,l;if("$"!==e.src[e.pos])return!1;if(a=et(e,e.pos),!a.can_open)return t||(e.pending+="$"),e.pos+=1,!0;const i=e.pos+1;for(o=i;-1!==(o=e.src.indexOf("$",o));){for(l=o-1;"\\"===e.src[l];)l-=1;if((o-l)%2==1)break;o+=1}return-1===o?(t||(e.pending+="$"),e.pos=i,!0):o-i==0?(t||(e.pending+="$$"),e.pos=i+1,!0):(a=et(e,o),a.can_close?(t||(n=e.push("math_inline","math",0),n.markup="$",n.content=e.src.slice(i,o)),e.pos=o+1,!0):(t||(e.pending+="$"),e.pos=i,!0))},ot=(e,t,o,n)=>{let a,l,i,r,s=!1,c=e.bMarks[t]+e.tShift[t],d=e.eMarks[t];if(c+2>d)return!1;if("$$"!==e.src.slice(c,c+2))return!1;if(c+=2,a=e.src.slice(c,d),n)return!0;for("$$"===a.trim().slice(-2)&&(a=a.trim().slice(0,-2),s=!0),i=t;!s&&(i++,!(i>=o))&&(c=e.bMarks[i]+e.tShift[i],d=e.eMarks[i],!(c<d&&e.tShift[i]<e.blkIndent));)"$$"===e.src.slice(c,d).trim().slice(-2)&&(r=e.src.slice(0,d).lastIndexOf("$$"),l=e.src.slice(c,r),s=!0);e.line=i+1;const u=e.push("math_block","math",0);return u.block=!0,u.content=(a&&a.trim()?a+"\n":"")+e.getLines(t+1,i,e.tShift[t],!0)+(l&&l.trim()?l:""),u.map=[t,e.line],u.markup="$$",!0},nt=(e,{katexRef:t})=>{e.inline.ruler.after("escape","math_inline",tt),e.block.ruler.after("blockquote","math_block",ot,{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules.math_inline=(e,o,n,a,l)=>{const i=e[o],r={attrs:Qe(i,[["class","".concat(te,"-katex-inline")]])};if(t.value){const e=t.value.renderToString(i.content,{throwOnError:!1});return"<span ".concat(l.renderAttrs(r)," data-processed>").concat(e,"</span>")}return"<span ".concat(l.renderAttrs(r),">").concat(i.content,"</span>")},e.renderer.rules.math_block=(e,o,n,a,l)=>{const i=e[o],r={attrs:Qe(i,[["class","".concat(te,"-katex-block")]])};if(t.value){const e=t.value.renderToString(i.content,{throwOnError:!1,displayMode:!0});return"<p ".concat(l.renderAttrs(r)," data-processed>").concat(e,"</p>")}return"<p ".concat(l.renderAttrs(r),">").concat(i.content,"</p>")}},at=(e,t)=>{const o=(t=t||{}).marker||"!",n=o.charCodeAt(0),a=o.length;let l="",i="";const r=(e,t,o,n,a)=>{const l=e[t];return"admonition_open"===l.type?e[t].attrPush(["class","".concat(te,"-admonition ").concat(te,"-admonition-").concat(l.info)]):"admonition_title_open"===l.type&&e[t].attrPush(["class","".concat(te,"-admonition-title")]),a.renderToken(e,t,o)};e.block.ruler.before("code","admonition",((e,t,r,s)=>{let c,d,u,m=!1,p=e.bMarks[t]+e.tShift[t],g=e.eMarks[t];if(n!==e.src.charCodeAt(p))return!1;for(c=p+1;c<=g&&o[(c-p)%a]===e.src[c];c++);const h=Math.floor((c-p)/a);if(3!==h)return!1;c-=(c-p)%a;const v=e.src.slice(p,c);if((e=>{const t=e.trim().split(" ",2);i="",l=t[0],t.length>1&&(i=e.substring(l.length+2))})(e.src.slice(c,g)),s)return!0;for(d=t;(d++,!(d>=r))&&(p=e.bMarks[d]+e.tShift[d],g=e.eMarks[d],!(p<g&&e.sCount[d]<e.blkIndent));)if(n===e.src.charCodeAt(p)&&!(e.sCount[d]-e.blkIndent>=4)){for(c=p+1;c<=g&&o[(c-p)%a]===e.src[c];c++);if(!(Math.floor((c-p)/a)<h||(c-=(c-p)%a,c=e.skipSpaces(c),c<g))){m=!0;break}}const f=e.parentType,b=e.lineMax;return e.parentType="root",e.lineMax=d,u=e.push("admonition_open","div",1),u.markup=v,u.block=!0,u.info=l,u.map=[t,d],i&&(u=e.push("admonition_title_open","p",1),u.markup=v+" "+l,u.map=[t,d],u=e.push("inline","",0),u.content=i,u.map=[t,e.line-1],u.children=[],u=e.push("admonition_title_close","p",-1),u.markup=v+" "+l),e.md.block.tokenize(e,t+1,d),u=e.push("admonition_close","div",-1),u.markup=e.src.slice(p,c),u.block=!0,e.parentType=f,e.lineMax=b,e.line=d+(m?1:0),!0}),{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules.admonition_open=r,e.renderer.rules.admonition_title_open=r,e.renderer.rules.admonition_title_close=r,e.renderer.rules.admonition_close=r},lt=(e,t)=>{e.renderer.rules.heading_open=(o,n)=>{var a;const l=o[n],i=(null==(a=o[n+1].children)?void 0:a.reduce(((e,t)=>e+(["text","code_inline"].includes(t.type)&&t.content||"")),""))||"",r=l.markup.length;return t.headsRef.value.push({text:i,level:r}),l.map&&0===l.level&&l.attrSet("id",t.mdHeadingId(i,r,t.headsRef.value.length)),e.renderer.renderToken(o,n,t)},e.renderer.rules.heading_close=(e,t,o,n,a)=>a.renderToken(e,t,o)},it=(e,t)=>{if("string"==typeof t[e])return t[e];const o='<i class="'.concat(te,"-iconfont ").concat(te,"-icon-").concat(e,'"></i>');return"svg"===pe.iconfontType?'<svg class="'.concat(te,'-icon" aria-hidden="true"><use xlink:href="#').concat(te,"-icon-").concat(e,'"></use></svg>'):o},rt=(e,t)=>{const o=e.renderer.rules.fence,n=e.utils.unescapeAll,a=/\[(\w*)(?::([\w ]*))?\]/,l=/::close/,i=e=>e.info?n(e.info).trim():"",r=e=>{const t=i(e),[o=null,n=""]=(a.exec(t)||[]).slice(1);return[o,n]},s=e=>{const t=i(e);return t?t.split(/(\s+)/g)[0]:""},c=e=>{const o=l.test(e.info);return{open:!o&&e.content.trim().split("\n").length<t.autoFoldThreshold,tagContainer:o||t.codeFoldable?"details":"div",tagHeader:o||t.codeFoldable?"summary":"div"}},d=(e,n,i,d,u)=>{var m;if(e[n].hidden)return"";const p=null==(m=t.usedLanguageTextRef.value)?void 0:m.copyCode.text,g=t.customIconRef.value.copy||p,h=!!t.customIconRef.value.copy,v='<span class="'.concat(te,'-collapse-tips">').concat(it("collapse-tips",t.customIconRef.value),"</span>"),[f]=r(e[n]);if(null===f){const{open:t,tagContainer:a,tagHeader:r}=c(e[n]),s=[["class","".concat(te,"-code")]];t&&s.push(["open",""]);const m={attrs:Qe(e[n],s)};e[n].info=e[n].info.replace(l,"");const f=o(e,n,i,d,u);return"<".concat(a," ").concat(u.renderAttrs(m),">\n        <").concat(r,' class="').concat(te,'-code-head">\n          <div class="').concat(te,'-code-flag"><span></span><span></span><span></span></div>\n          <div class="').concat(te,'-code-action">\n            <span class="').concat(te,'-code-lang">').concat(e[n].info.trim(),'</span>\n            <span class="').concat(te,'-copy-button" data-tips="').concat(p,'"').concat(h?" data-is-icon=true":"",'">').concat(g,"</span>\n            ").concat("details"===a?v:"","\n          </div>\n        </").concat(r,">").concat(f,"</").concat(a,">")}let b,y,k,w,C="",x="",T="";const{open:S,tagContainer:I,tagHeader:A}=c(e[n]),E=[["class","".concat(te,"-code")]];S&&E.push(["open",""]);const F={attrs:Qe(e[n],E)};for(let c=n;c<e.length&&(b=e[c],[y,k]=r(b),y===f);c++){b.info=b.info.replace(a,"").replace(l,""),b.hidden=!0;const r="".concat(te,"-codetab-").concat(t.editorId,"-").concat(n,"-").concat(c-n);w=c-n>0?"":"checked",C+='<li>\n          <input type="radio" name="'.concat(te,"-codetab-label-").concat(t.editorId,"-").concat(n,'" class="').concat(r,'" ').concat(w,">\n          <label onclick=\"document.querySelectorAll('.").concat(r,"').forEach(e => e.click())\">").concat(k||s(b),"</label>\n        </li>"),x+='<input type="radio" name="'.concat(te,"-codetab-pre-").concat(t.editorId,"-").concat(n,'" class="').concat(r,'" ').concat(w,">\n      ").concat(o(e,c,i,d,u)),T+='<input type="radio" name="'.concat(te,"-codetab-lang-").concat(t.editorId,"-").concat(n,'" class="').concat(r,'" ').concat(w,">\n      <span class=").concat(te,"-code-lang>").concat(s(b),"</span>")}return"<".concat(I," ").concat(u.renderAttrs(F),">\n    <").concat(A,' class="').concat(te,'-code-head">\n      <div class="').concat(te,'-code-flag">\n        <ul class="').concat(te,'-codetab-label">').concat(C,'</ul>\n      </div>\n      <div class="').concat(te,'-code-action">\n        <span class="').concat(te,'-codetab-lang">').concat(T,'</span>\n        <span class="').concat(te,'-copy-button" data-tips="').concat(p,'"').concat(h?" data-is-icon=true":"",'">').concat(g,"</span>\n        ").concat("details"===I?v:"","\n      </div>\n    </").concat(A,">").concat(x,"</").concat(I,">")};e.renderer.rules.fence=d,e.renderer.rules.code_block=d};function st(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ct={exports:{}},dt={},ut={exports:{}},mt={};function pt(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var gt=/javascript\s*\:/gim;mt.whiteList=pt(),mt.getDefaultWhiteList=pt,mt.onAttr=function(e,t,o){},mt.onIgnoreAttr=function(e,t,o){},mt.safeAttrValue=function(e,t){return gt.test(t)?"":t};var ht={indexOf:function(e,t){var o,n;if(Array.prototype.indexOf)return e.indexOf(t);for(o=0,n=e.length;o<n;o++)if(e[o]===t)return o;return-1},forEach:function(e,t,o){var n,a;if(Array.prototype.forEach)return e.forEach(t,o);for(n=0,a=e.length;n<a;n++)t.call(o,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}};var vt=mt,ft=function(e,t){";"!==(e=ht.trimRight(e))[e.length-1]&&(e+=";");var o=e.length,n=!1,a=0,l=0,i="";function r(){if(!n){var o=ht.trim(e.slice(a,l)),r=o.indexOf(":");if(-1!==r){var s=ht.trim(o.slice(0,r)),c=ht.trim(o.slice(r+1));if(s){var d=t(a,i.length,s,c,o);d&&(i+=d+"; ")}}}a=l+1}for(;l<o;l++){var s=e[l];if("/"===s&&"*"===e[l+1]){var c=e.indexOf("*/",l+2);if(-1===c)break;a=(l=c+1)+1,n=!1}else"("===s?n=!0:")"===s?n=!1:";"===s?n||r():"\n"===s&&r()}return ht.trim(i)};function bt(e){return null==e}function yt(e){(e=function(e){var t={};for(var o in e)t[o]=e[o];return t}(e||{})).whiteList=e.whiteList||vt.whiteList,e.onAttr=e.onAttr||vt.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||vt.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||vt.safeAttrValue,this.options=e}yt.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,o=t.whiteList,n=t.onAttr,a=t.onIgnoreAttr,l=t.safeAttrValue;return ft(e,(function(e,t,i,r,s){var c=o[i],d=!1;if(!0===c?d=c:"function"==typeof c?d=c(r):c instanceof RegExp&&(d=c.test(r)),!0!==d&&(d=!1),r=l(i,r)){var u,m={position:t,sourcePosition:e,source:s,isWhite:d};return d?bt(u=n(i,r,m))?i+":"+r:u:bt(u=a(i,r,m))?void 0:u}}))};var kt=yt;!function(e,t){var o=mt,n=kt;for(var a in(t=e.exports=function(e,t){return new n(t).process(e)}).FilterCSS=n,o)t[a]=o[a];"undefined"!=typeof window&&(window.filterCSS=e.exports)}(ut,ut.exports);var wt=ut.exports,Ct={indexOf:function(e,t){var o,n;if(Array.prototype.indexOf)return e.indexOf(t);for(o=0,n=e.length;o<n;o++)if(e[o]===t)return o;return-1},forEach:function(e,t,o){var n,a;if(Array.prototype.forEach)return e.forEach(t,o);for(n=0,a=e.length;n<a;n++)t.call(o,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}},xt=wt.FilterCSS,Tt=wt.getDefaultWhiteList,St=Ct;function It(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var At=new xt;function Et(e){return e.replace(Ft,"&lt;").replace(Lt,"&gt;")}var Ft=/</g,Lt=/>/g,jt=/"/g,Ht=/&quot;/g,Mt=/&#([a-zA-Z0-9]*);?/gim,Ot=/&colon;?/gim,Bt=/&newline;?/gim,Pt=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,Vt=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,Nt=/u\s*r\s*l\s*\(.*/gi;function Dt(e){return e.replace(jt,"&quot;")}function Rt(e){return e.replace(Ht,'"')}function zt(e){return e.replace(Mt,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function _t(e){return e.replace(Ot,":").replace(Bt," ")}function Wt(e){for(var t="",o=0,n=e.length;o<n;o++)t+=e.charCodeAt(o)<32?" ":e.charAt(o);return St.trim(t)}function qt(e){return e=Wt(e=_t(e=zt(e=Rt(e))))}function $t(e){return e=Et(e=Dt(e))}dt.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},dt.getDefaultWhiteList=It,dt.onTag=function(e,t,o){},dt.onIgnoreTag=function(e,t,o){},dt.onTagAttr=function(e,t,o){},dt.onIgnoreTagAttr=function(e,t,o){},dt.safeAttrValue=function(e,t,o,n){if(o=qt(o),"href"===t||"src"===t){if("#"===(o=St.trim(o)))return"#";if("http://"!==o.substr(0,7)&&"https://"!==o.substr(0,8)&&"mailto:"!==o.substr(0,7)&&"tel:"!==o.substr(0,4)&&"data:image/"!==o.substr(0,11)&&"ftp://"!==o.substr(0,6)&&"./"!==o.substr(0,2)&&"../"!==o.substr(0,3)&&"#"!==o[0]&&"/"!==o[0])return""}else if("background"===t){if(Pt.lastIndex=0,Pt.test(o))return""}else if("style"===t){if(Vt.lastIndex=0,Vt.test(o))return"";if(Nt.lastIndex=0,Nt.test(o)&&(Pt.lastIndex=0,Pt.test(o)))return"";!1!==n&&(o=(n=n||At).process(o))}return o=$t(o)},dt.escapeHtml=Et,dt.escapeQuote=Dt,dt.unescapeQuote=Rt,dt.escapeHtmlEntities=zt,dt.escapeDangerHtml5Entities=_t,dt.clearNonPrintableCharacter=Wt,dt.friendlyAttrValue=qt,dt.escapeAttrValue=$t,dt.onIgnoreTagStripAll=function(){return""},dt.StripTagBody=function(e,t){"function"!=typeof t&&(t=function(){});var o=!Array.isArray(e),n=[],a=!1;return{onIgnoreTag:function(l,i,r){if(function(t){return!!o||-1!==St.indexOf(e,t)}(l)){if(r.isClosing){var s="[/removed]",c=r.position+10;return n.push([!1!==a?a:r.position,c]),a=!1,s}return a||(a=r.position),"[removed]"}return t(l,i,r)},remove:function(e){var t="",o=0;return St.forEach(n,(function(n){t+=e.slice(o,n[0]),o=n[1]})),t+=e.slice(o)}}},dt.stripCommentTag=function(e){for(var t="",o=0;o<e.length;){var n=e.indexOf("\x3c!--",o);if(-1===n){t+=e.slice(o);break}t+=e.slice(o,n);var a=e.indexOf("--\x3e",n);if(-1===a)break;o=a+3}return t},dt.stripBlankChar=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},dt.attributeWrapSign='"',dt.cssFilter=At,dt.getDefaultCSSWhiteList=Tt;var Ut={},Kt=Ct;function Gt(e){var t,o=Kt.spaceIndex(e);return t=-1===o?e.slice(1,-1):e.slice(1,o+1),"/"===(t=Kt.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}function Xt(e){return"</"===e.slice(0,2)}var Zt=/[^a-zA-Z0-9\\_:.-]/gim;function Jt(e,t){for(;t<e.length;t++){var o=e[t];if(" "!==o)return"="===o?t:-1}}function Yt(e,t){for(;t<e.length;t++){var o=e[t];if(" "!==o)return"'"===o||'"'===o?t:-1}}function Qt(e,t){for(;t>0;t--){var o=e[t];if(" "!==o)return"="===o?t:-1}}function eo(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}Ut.parseTag=function(e,t,o){var n="",a=0,l=!1,i=!1,r=0,s=e.length,c="",d="";e:for(r=0;r<s;r++){var u=e.charAt(r);if(!1===l){if("<"===u){l=r;continue}}else if(!1===i){if("<"===u){n+=o(e.slice(a,r)),l=r,a=r;continue}if(">"===u||r===s-1){n+=o(e.slice(a,l)),c=Gt(d=e.slice(l,r+1)),n+=t(l,n.length,c,d,Xt(d)),a=r+1,l=!1;continue}if('"'===u||"'"===u)for(var m=1,p=e.charAt(r-m);""===p.trim()||"="===p;){if("="===p){i=u;continue e}p=e.charAt(r-++m)}}else if(u===i){i=!1;continue}}return a<s&&(n+=o(e.substr(a))),n},Ut.parseAttr=function(e,t){var o=0,n=0,a=[],l=!1,i=e.length;function r(e,o){if(!((e=(e=Kt.trim(e)).replace(Zt,"").toLowerCase()).length<1)){var n=t(e,o||"");n&&a.push(n)}}for(var s=0;s<i;s++){var c,d=e.charAt(s);if(!1!==l||"="!==d)if(!1===l||s!==n)if(/\s|\n|\t/.test(d)){if(e=e.replace(/\s|\n|\t/g," "),!1===l){if(-1===(c=Jt(e,s))){r(Kt.trim(e.slice(o,s))),l=!1,o=s+1;continue}s=c-1;continue}if(-1===(c=Qt(e,s-1))){r(l,eo(Kt.trim(e.slice(o,s)))),l=!1,o=s+1;continue}}else;else{if(-1===(c=e.indexOf(d,s+1)))break;r(l,Kt.trim(e.slice(n+1,c))),l=!1,o=(s=c)+1}else l=e.slice(o,s),o=s+1,n='"'===e.charAt(o)||"'"===e.charAt(o)?o:Yt(e,s+1)}return o<e.length&&(!1===l?r(e.slice(o)):r(l,eo(Kt.trim(e.slice(o))))),Kt.trim(a.join(" "))};var to=wt.FilterCSS,oo=dt,no=Ut,ao=no.parseTag,lo=no.parseAttr,io=Ct;function ro(e){return null==e}function so(e){(e=function(e){var t={};for(var o in e)t[o]=e[o];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=oo.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=function(e){var t={};for(var o in e)Array.isArray(e[o])?t[o.toLowerCase()]=e[o].map((function(e){return e.toLowerCase()})):t[o.toLowerCase()]=e[o];return t}(e.whiteList||e.allowList):e.whiteList=oo.whiteList,this.attributeWrapSign=!0===e.singleQuotedAttributeValue?"'":oo.attributeWrapSign,e.onTag=e.onTag||oo.onTag,e.onTagAttr=e.onTagAttr||oo.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||oo.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||oo.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||oo.safeAttrValue,e.escapeHtml=e.escapeHtml||oo.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new to(e.css))}so.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this,o=t.options,n=o.whiteList,a=o.onTag,l=o.onIgnoreTag,i=o.onTagAttr,r=o.onIgnoreTagAttr,s=o.safeAttrValue,c=o.escapeHtml,d=t.attributeWrapSign,u=t.cssFilter;o.stripBlankChar&&(e=oo.stripBlankChar(e)),o.allowCommentTag||(e=oo.stripCommentTag(e));var m=!1;o.stripIgnoreTagBody&&(m=oo.StripTagBody(o.stripIgnoreTagBody,l),l=m.onIgnoreTag);var p=ao(e,(function(e,t,o,m,p){var g={sourcePosition:e,position:t,isClosing:p,isWhite:Object.prototype.hasOwnProperty.call(n,o)},h=a(o,m,g);if(!ro(h))return h;if(g.isWhite){if(g.isClosing)return"</"+o+">";var v=function(e){var t=io.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var o="/"===(e=io.trim(e.slice(t+1,-1)))[e.length-1];return o&&(e=io.trim(e.slice(0,-1))),{html:e,closing:o}}(m),f=n[o],b=lo(v.html,(function(e,t){var n=-1!==io.indexOf(f,e),a=i(o,e,t,n);return ro(a)?n?(t=s(o,e,t,u))?e+"="+d+t+d:e:ro(a=r(o,e,t,n))?void 0:a:a}));return m="<"+o,b&&(m+=" "+b),v.closing&&(m+=" /"),m+=">"}return ro(h=l(o,m,g))?c(m):h}),c);return m&&(p=m.remove(p)),p};var co=so;!function(e,t){var o=dt,n=Ut,a=co;function l(e,t){return new a(t).process(e)}(t=e.exports=l).filterXSS=l,t.FilterXSS=a,function(){for(var e in o)t[e]=o[e];for(var a in n)t[a]=n[a]}(),"undefined"!=typeof window&&(window.filterXSS=e.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)}(ct,ct.exports);var uo=ct.exports;const mo=Ze({__proto__:null,default:st(uo)},[uo]),po={img:["class"],input:["class","disabled","type","checked"],iframe:["class","width","height","src","title","border","frameborder","framespacing","allow","allowfullscreen"]},go=(e,t)=>{const{extendedWhiteList:o={},xss:n={}}=t;let a;if("function"==typeof n)a=new uo.FilterXSS(n(mo));else{const e=uo.getDefaultWhiteList();[...Object.keys(o),...Object.keys(po)].forEach((t=>{const n=e[t]||[],a=po[t]||[],l=o[t]||[];e[t]=[...new Set([...n,...a,...l])]})),a=new uo.FilterXSS({whiteList:e,...n})}e.core.ruler.after("linkify","xss",(e=>{for(let t=0;t<e.tokens.length;t++){const o=e.tokens[t];switch(o.type){case"html_block":o.content=a.process(o.content);break;case"inline":(o.children||[]).forEach((e=>{"html_inline"===e.type&&(e.content=a.process(e.content))}));break}}}))},ho=(e,t)=>{const{editorConfig:a,markdownItConfig:l,markdownItPlugins:i}=pe,r=c("editorId"),s=c("language"),d=c("usedLanguageText"),u=c("showCodeRowNumber"),h=c("theme"),v=c("customIcon"),k=m([]),w=Je(e),C=(e=>{const t=f(pe.editorExtensions.katex.instance);return g((()=>{if(e.noKatex||t.value)return;const{editorExtensions:o}=pe;_e("script",{src:o.katex.js,id:"".concat(te,"-katex"),onload(){t.value=window.katex}},"katex"),_e("link",{rel:"stylesheet",href:o.katex.css,id:"".concat(te,"-katexCss")})})),t})(e),{reRenderRef:x,replaceMermaid:S}=(e=>{const t=c("theme"),{editorExtensions:o,editorExtensionsAttrs:a,mermaidConfig:l}=pe,i=f(o.mermaid.instance),r=f(-1),s=new ee({max:1e3,ttl:6e5}),d=()=>{const o=i.value;!e.noMermaid&&o&&(o.initialize(l({startOnLoad:!1,theme:"dark"===t.value?"dark":"default"})),r.value=r.value+1)};return p((()=>t.value),(()=>{s.clear(),d()})),g((()=>{var t,n,l;if(e.noMermaid||(null==(t=i.value)?void 0:t.instance))return;const r=o.mermaid.js;/\.mjs/.test(r)?(_e("link",{...null==(n=a.mermaid)?void 0:n.js,rel:"modulepreload",href:r,id:"".concat(te,"-mermaid-m")}),I((()=>import(r)),[],import.meta.url).then((e=>{i.value=e.default,d()}))):_e("script",{...null==(l=a.mermaid)?void 0:l.js,src:r,id:"".concat(te,"-mermaid"),onload(){i.value=window.mermaid,d()}},"mermaid")})),{mermaidRef:i,reRenderRef:r,replaceMermaid:()=>{y((()=>{if(!e.noMermaid&&i.value){const t=document.querySelectorAll("div.".concat(te,"-mermaid")),o=document.createElement("div");o.style.width=document.body.offsetWidth+"px",o.style.height=document.body.offsetHeight+"px",o.style.position="fixed",o.style.zIndex="-10000",o.style.top="-10000";let a=t.length;a>0&&document.body.appendChild(o),t.forEach((async t=>{let l=s.get(t.innerText);if(!l){const a=n(),r=i.value.renderAsync||i.value.render;let d="";try{d=await r(a,t.innerText,o)}catch(c){}l=await e.sanitizeMermaid("string"==typeof d?d:d.svg),s.set(t.innerText,l)}const r=document.createElement("p");r.className="".concat(te,"-mermaid"),r.setAttribute("data-processed",""),r.innerHTML=l,void 0!==t.dataset.line&&(r.dataset.line=t.dataset.line),t.replaceWith(r),0==--a&&o.remove()}))}}))}}})(e),A=J({html:!0,breaks:!0,linkify:!0});l(A,{editorId:r});const E=[{type:"image",plugin:Y,options:{figcaption:!0,classes:"md-zoom"}},{type:"admonition",plugin:at,options:{}},{type:"taskList",plugin:Q,options:{}},{type:"heading",plugin:lt,options:{mdHeadingId:e.mdHeadingId,headsRef:k}},{type:"code",plugin:rt,options:{editorId:r,usedLanguageTextRef:d,codeFoldable:e.codeFoldable,autoFoldThreshold:e.autoFoldThreshold,customIconRef:v}},{type:"xss",plugin:go,options:{}}];e.noKatex||E.push({type:"katex",plugin:nt,options:{katexRef:C}}),e.noMermaid||E.push({type:"mermaid",plugin:Ye,options:{themeRef:h}}),i(E,{editorId:r}).forEach((e=>{A.use(e.plugin,e.options)}));const F=A.options.highlight;A.set({highlight:(t,o,n)=>{if(F){const e=F(t,o,n);if(e)return e}let a;if(!e.noHighlight&&w.value){a=w.value.getLanguage(o)?w.value.highlight(t,{language:o,ignoreIllegals:!0}).value:w.value.highlightAuto(t).value}else a=A.utils.escapeHtml(t);const l=u?(e=>{if(!e)return e;const t=e.split("\n"),o=['<span rn-wrapper aria-hidden="true">'];return t.forEach((()=>{o.push("<span></span>")})),o.push("</span>"),'<span class="'.concat(te,'-code-block">').concat(e,"</span>").concat(o.join(""))})(a.replace(/^\n+|\n+$/g,"")):'<span class="'.concat(te,'-code-block">').concat(a.replace(/^\n+|\n+$/g,""),"</span>");return'<pre><code class="language-'.concat(o,'" language=').concat(o,">").concat(l,"</code></pre>")}}),(e=>{e.core.ruler.push("init-line-number",(e=>(e.tokens.forEach((e=>{e.map&&(e.attrs||(e.attrs=[]),e.attrs.push(["data-line",e.map[0].toString()]))})),!0)))})(A);const L=m("_article-key_".concat(n())),j=m(e.sanitize(A.render(e.modelValue))),H=()=>{ke.emit(r,Le,j.value),e.onHtmlChanged(j.value),e.onGetCatalog(k.value),ke.emit(r,Ve,k.value),S()};g(H);const M=()=>{k.value=[],j.value=e.sanitize(A.render(e.modelValue)),H()},O=b((()=>(e.noKatex||C.value)&&(e.noHighlight||w.value)));return p([T(e,"modelValue"),O,x,s],o(M,t?0:a.renderDelay)),p((()=>e.setting.preview),(()=>{e.setting.preview&&y((()=>{ke.emit(r,Ve,k.value)}))})),g((()=>{ke.on(r,{name:Ne,callback(){ke.emit(r,Ve,k.value)}}),ke.on(r,{name:De,callback:()=>{L.value="_article-key_".concat(n()),M()}})})),{html:j,key:L}},vo={modelValue:{type:String,default:""},setting:{type:Object,default:()=>({preview:!0})},onHtmlChanged:{type:Function,default:()=>{}},onGetCatalog:{type:Function,default:()=>{}},mdHeadingId:{type:Function,default:()=>""},noMermaid:{type:Boolean,default:!1},sanitize:{type:Function,default:e=>e},noKatex:{type:Boolean,default:!1},formatCopiedText:{type:Function,default:e=>e},noHighlight:{type:Boolean,default:!1},previewOnly:{type:Boolean,default:!1},noImgZoomIn:{type:Boolean},sanitizeMermaid:{type:Function},codeFoldable:{type:Boolean},autoFoldThreshold:{type:Number}},fo={...vo,updateModelValue:{type:Function,default:()=>{}},onChange:{type:Function,default:()=>{}},placeholder:{type:String,default:""},scrollAuto:{type:Boolean},autofocus:{type:Boolean},disabled:{type:Boolean},readonly:{type:Boolean},maxlength:{type:Number},autoDetectCode:{type:Boolean},onBlur:{type:Function,default:()=>{}},onFocus:{type:Function,default:()=>{}},noPrettier:{type:Boolean},completions:{type:Array},catalogVisible:{type:Boolean},theme:{type:String,default:"light"},onInput:{type:Function},onDrop:{type:Function,default:()=>{}},inputBoxWitdh:{type:String},onInputBoxWitdhChange:{type:Function},transformImgUrl:{type:Function,default:e=>e}},bo=s({name:"ContentPreview",props:vo,setup(e){const t=c("editorId"),n=c("previewTheme"),a=c("showCodeRowNumber"),{html:l,key:i}=ho(e,e.previewOnly);return((e,t,o)=>{const n=c("editorId"),a=c("usedLanguageText"),l=()=>{document.querySelectorAll("#".concat(n," .").concat(te,"-preview .").concat(te,"-code")).forEach((t=>{let o=-1;const n=t.querySelector(".".concat(te,"-copy-button"));n&&(n.onclick=l=>{l.preventDefault(),clearTimeout(o);const i=(t.querySelector("input:checked + pre code")||t.querySelector("pre code")).textContent,r=Z(e.formatCopiedText(i)),{text:s,successTips:c,failTips:d}=a.value.copyCode,u=r?c:d;n.dataset.isIcon?n.dataset.tips=u:n.innerHTML=u,o=window.setTimeout((()=>{n.dataset.isIcon?n.dataset.tips=s:n.innerHTML=s}),1500)})}))},i=e=>{e&&y(l)};p([t,o],(()=>{y(l)})),p((()=>e.setting.preview),i),p((()=>e.setting.htmlPreview),i),p((()=>a.value),l),g(l)})(e,l,i),((e,t)=>{const n=c("editorId"),{noImgZoomIn:a}=e,l=o((()=>{const e=document.querySelectorAll("#".concat(n,"-preview img:not(.not-zoom)"));0!==e.length&&X(e,{background:"#00000073"})}));g((()=>{l()})),p([t,T(e.setting,"preview")],(()=>{!a&&e.setting.preview&&l()}))})(e,l),()=>d(x,null,[e.setting.preview&&d("div",{id:"".concat(t,"-preview-wrapper"),class:"".concat(te,"-preview-wrapper"),key:"content-preview-wrapper"},[d("div",{key:i.value,id:"".concat(t,"-preview"),class:["".concat(te,"-preview"),"".concat(null==n?void 0:n.value,"-theme"),a&&"".concat(te,"-scrn")],innerHTML:l.value},null)]),!e.previewOnly&&e.setting.htmlPreview&&d("div",{id:"".concat(t,"-html-wrapper"),class:"".concat(te,"-preview-wrapper"),key:"html-preview-wrapper"},[d("div",{class:"".concat(te,"-html")},[l.value])])])}}),yo=o=>{const{editorId:n}=o,a=pe.editorExtensions.highlight,l=pe.editorExtensionsAttrs.highlight;C("editorId",n),C("theme",b((()=>o.theme))),C("language",b((()=>o.language))),C("highlight",b((()=>{const{js:e}=a,t={...me,...a.css},{js:n,css:i={}}=l||{},r=o.codeStyleReverse&&o.codeStyleReverseList.includes(o.previewTheme)?"dark":o.theme;return{js:{src:e,...n},css:{href:t[o.codeTheme]?t[o.codeTheme][r]:me.atom[r],...t[o.codeTheme]&&i[o.codeTheme]?i[o.codeTheme][r]:i.atom?i.atom[r]:{}}}}))),C("showCodeRowNumber",o.showCodeRowNumber);const i=b((()=>{const n={...ce,...pe.editorConfig.languageUserDefined};return e(t(ce["en-US"]),n[o.language]||{})}));C("usedLanguageText",i),C("previewTheme",b((()=>o.previewTheme))),C("customIcon",b((()=>o.customIcon)))},ko=e=>{g((()=>{const{editorExtensions:t,editorExtensionsAttrs:o,iconfontType:n}=pe;e.noIconfont||("svg"===n?_e("script",{...o.iconfont,src:t.iconfont,id:"".concat(te,"-icon")}):_e("link",{...o.iconfontClass,rel:"stylesheet",href:t.iconfontClass,id:"".concat(te,"-icon-class")}))}))},wo={modelValue:{type:String,default:""},theme:{type:String,default:"light"},class:{type:String,default:""},language:{type:String,default:"zh-CN"},onHtmlChanged:{type:Function},onGetCatalog:{type:Function},editorId:{type:String,default:()=>$e("md-editor-v3_")},showCodeRowNumber:{type:Boolean,default:!0},previewTheme:{type:String,default:"default"},style:{type:Object,default:()=>({})},mdHeadingId:{type:Function,default:e=>e},sanitize:{type:Function,default:e=>e},noMermaid:{type:Boolean,default:!1},noKatex:{type:Boolean,default:!1},codeTheme:{type:String,default:"atom"},noIconfont:{type:Boolean},formatCopiedText:{type:Function,default:e=>e},codeStyleReverse:{type:Boolean,default:!0},codeStyleReverseList:{type:Array,default:["default","mk-cute"]},noHighlight:{type:Boolean,default:!1},noImgZoomIn:{type:Boolean,default:!1},customIcon:{type:Object,default:{}},sanitizeMermaid:{type:Function,default:e=>Promise.resolve(e)},codeFoldable:{type:Boolean,default:!0},autoFoldThreshold:{type:Number,default:30}},Co={...wo,onChange:{type:Function},onSave:{type:Function},onUploadImg:{type:Function},pageFullscreen:{type:Boolean,default:!1},preview:{type:Boolean,default:!0},htmlPreview:{type:Boolean,default:!1},toolbars:{type:Array,default:re},toolbarsExclude:{type:Array,default:[]},noPrettier:{type:Boolean,default:!1},tabWidth:{type:Number,default:2},tableShape:{type:Array},placeholder:{type:String,default:""},defToolbars:{type:[String,Object]},onError:{type:Function},footers:{type:Array,default:se},scrollAuto:{type:Boolean,default:!0},defFooters:{type:[String,Object]},noUploadImg:{type:Boolean},autoFocus:{type:Boolean},disabled:{type:Boolean},readOnly:{type:Boolean},maxLength:{type:Number},autoDetectCode:{type:Boolean},onBlur:{type:Function},onFocus:{type:Function},completions:{type:Array},showToolbarName:{type:Boolean,default:!1},onInput:{type:Function},onDrop:{type:Function},inputBoxWitdh:{type:String,default:"50%"},onInputBoxWitdhChange:{type:Function},transformImgUrl:{type:Function,default:e=>e}},xo=["onHtmlChanged","onGetCatalog"],To=[...xo,"onChange","onSave","onUploadImg","onError","update:modelValue","onBlur","onFocus","onInput","onDrop","onInputBoxWitdhChange"],So=s({name:"MdPreview",props:wo,emits:xo,setup(e,t){const{editorId:o,noKatex:n,noMermaid:a,noHighlight:l}=e;return yo(e),ko(e),((e,t)=>{const{editorId:o}=e,n={rerender(){ke.emit(o,De)}};t.expose(n)})(e,t),h((()=>{ke.clear(o)})),()=>d("div",{id:o,class:[te,e.class,"dark"===e.theme&&"".concat(te,"-dark"),"".concat(te,"-previewOnly")],style:e.style},[d(bo,{modelValue:e.modelValue,onHtmlChanged:o=>{e.onHtmlChanged?e.onHtmlChanged(o):t.emit("onHtmlChanged",o)},onGetCatalog:o=>{e.onGetCatalog?e.onGetCatalog(o):t.emit("onGetCatalog",o)},mdHeadingId:e.mdHeadingId,noMermaid:a,sanitize:e.sanitize,noKatex:n,formatCopiedText:e.formatCopiedText,noHighlight:l,noImgZoomIn:e.noImgZoomIn,previewOnly:!0,sanitizeMermaid:e.sanitizeMermaid,codeFoldable:e.codeFoldable,autoFoldThreshold:e.autoFoldThreshold},null)])}});So.install=e=>(e.component(So.name,So),e);const Io=s({props:{tocItem:{type:Object,default:()=>({})},mdHeadingId:{type:Function,default:()=>{}},scrollElement:{type:[String,Object],default:""},onClick:{type:Function,default:()=>{}},scrollElementOffsetTop:{type:Number,default:0}},setup:e=>()=>{const{tocItem:t,mdHeadingId:o,scrollElement:n,onClick:a,scrollElementOffsetTop:l}=e;return d("div",{class:["".concat(te,"-catalog-link"),t.active&&"".concat(te,"-catalog-active")],onClick:e=>{a(e,t),e.stopPropagation();const i=o(t.text,t.level,t.index),r=document.getElementById(i),s=n instanceof Element?n:document.querySelector(n);if(r&&s){let e=r.offsetParent,t=r.offsetTop;if(s.contains(e))for(;e&&s!=e;)t+=null==e?void 0:e.offsetTop,e=null==e?void 0:e.offsetParent;null==s||s.scrollTo({top:t-l,behavior:"smooth"})}}},[d("span",{title:t.text},[t.text]),d("div",{class:"".concat(te,"-catalog-wrapper")},[t.children&&t.children.map((e=>d(Io,{mdHeadingId:o,key:"".concat(t.text,"-link-").concat(e.level,"-").concat(e.text),tocItem:e,scrollElement:n,onClick:a,scrollElementOffsetTop:l},null)))])])}}),Ao=Io,Eo=s({name:"MdCatalog",props:{editorId:{type:String},class:{type:String,default:""},mdHeadingId:{type:Function,default:e=>e},scrollElement:{type:[String,Object]},theme:{type:String,default:"light"},offsetTop:{type:Number,default:20},scrollElementOffsetTop:{type:Number,default:0},onClick:{type:Function},onActive:{type:Function}},emits:["onClick","onActive"],setup(e,t){const o=e.editorId,n=u({list:[],show:!1,scrollElement:e.scrollElement||"#".concat(o,"-preview-wrapper")}),a=f(),l=b((()=>{const e=[];return n.list.forEach(((t,o)=>{const{text:n,level:l}=t,i={level:l,text:n,index:o+1,active:a.value===t};if(0===e.length)e.push(i);else{let t=e[e.length-1];if(i.level>t.level)for(let e=t.level+1;e<=6;e++){const{children:e}=t;if(!e){t.children=[i];break}if(t=e[e.length-1],i.level<=t.level){e.push(i);break}}else e.push(i)}})),e})),i=()=>n.scrollElement instanceof HTMLElement?n.scrollElement:document.querySelector(n.scrollElement),r=t=>{if(0===t.length)return n.list=[],!1;const{activeHead:o}=t.reduce(((t,o,n)=>{const a=document.getElementById(e.mdHeadingId(o.text,o.level,n+1));if(a instanceof HTMLElement){const n=((e,t)=>{if(!e||!t)return 0;const o=null==e?void 0:e.getBoundingClientRect();if(t===document.documentElement)return o.top-t.clientTop;const n=null==t?void 0:t.getBoundingClientRect();return o.top-n.top})(a,i());if(n<e.offsetTop&&n>t.minTop)return{activeHead:o,minTop:n}}return t}),{activeHead:t[0],minTop:Number.MIN_SAFE_INTEGER});a.value=o,n.list=t},s=()=>{r(n.list)};return p((()=>a.value),(o=>{const n=o?{...o}:void 0;e.onActive?e.onActive(n):t.emit("onActive",n)})),g((()=>{let e=window;const t=()=>{const t=i();e=t===document.documentElement?window:t};ke.on(o,{name:Ve,callback:o=>{null==e||e.removeEventListener("scroll",s),r(o),t(),null==e||e.addEventListener("scroll",s)}}),ke.emit(o,Ne),t(),null==e||e.addEventListener("scroll",s)})),h((()=>{var e;const t=i();null==(e=t===document.documentElement?window:t)||e.removeEventListener("scroll",s)})),()=>d("div",{class:"".concat(te,"-catalog").concat("dark"===e.theme?"-dark":""," ").concat(e.class)},[l.value.map((o=>d(Ao,{mdHeadingId:e.mdHeadingId,tocItem:o,key:"link-".concat(o.level,"-").concat(o.text),scrollElement:n.scrollElement,onClick:(o,n)=>{e.onClick?e.onClick(o,n):t.emit("onClick",o,n)},scrollElementOffsetTop:e.scrollElementOffsetTop},null)))])}});Eo.install=e=>(e.component(Eo.name,Eo),e);const Fo=s({name:"NormalToolbar",props:{title:{type:String,default:""},trigger:{type:[String,Object]},onClick:{type:Function},insert:{type:Function},language:{type:String},theme:{type:String}},emits:["onClick"],setup:(e,t)=>()=>{const o=he({props:e,ctx:t},"trigger");return d("div",{class:"".concat(te,"-toolbar-item"),title:e.title,onClick:o=>{e.onClick instanceof Function?e.onClick(o):t.emit("onClick",o)}},[o])}});Fo.install=e=>(e.component(Fo.name,Fo),e);const Lo=s({name:"ModalToolbar",props:{title:{type:String,default:""},modalTitle:{type:String,default:""},visible:{type:Boolean},width:{type:String,default:"auto"},height:{type:String,default:"auto"},trigger:{type:[String,Object]},onClick:{type:Function},onClose:{type:Function},showAdjust:{type:Boolean,default:!1},isFullscreen:{type:Boolean,default:!1},onAdjust:{type:Function},insert:{type:Function},language:{type:String},theme:{type:String},previewTheme:{type:String}},emits:["onClick","onClose","onAdjust"],setup:(e,t)=>()=>{const o=he({props:e,ctx:t},"trigger"),n=he({props:e,ctx:t},"default");return d(x,null,[d("div",{class:"".concat(te,"-toolbar-item"),title:e.title,onClick:()=>{e.onClick instanceof Function?e.onClick():t.emit("onClick")}},[o]),d(Xe,{width:e.width,height:e.height,title:e.modalTitle,visible:e.visible,onClose:()=>{e.onClose instanceof Function?e.onClose():t.emit("onClose")},showAdjust:e.showAdjust,isFullscreen:e.isFullscreen,onAdjust:o=>{e.onAdjust instanceof Function?e.onAdjust(o):t.emit("onAdjust",o)}},(a=n,"function"==typeof a||"[object Object]"===Object.prototype.toString.call(a)&&!S(a)?n:{default:()=>[n]}))]);var a}});Lo.install=e=>(e.component(Lo.name,Lo),e);var jo=Object.defineProperty,Ho=(e,t,o)=>(((e,t,o)=>{t in e?jo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o})(e,"symbol"!=typeof t?t+"":t,o),o);const Mo=s({setup:()=>()=>d("div",{class:"".concat(te,"-divider")},null)}),Oo={noPrettier:{type:Boolean},toolbars:{type:Array,default:()=>[]},toolbarsExclude:{type:Array,default:()=>[]},setting:{type:Object,default:()=>({})},screenfull:{type:Object,default:null},screenfullJs:{type:String,default:""},updateSetting:{type:Function,default:()=>{}},tableShape:{type:Array,default:()=>[6,4]},defToolbars:{type:Object},noUploadImg:{type:Boolean},showToolbarName:{type:Boolean}},Bo=s({name:"TableShape",props:{tableShape:{type:Array,default:()=>[6,4]},onSelected:{type:Function,default:()=>{}}},setup(e){const t=u({x:-1,y:-1}),o=()=>{const t=[...e.tableShape];return(!t[2]||t[2]<t[0])&&(t[2]=t[0]),(!t[3]||t[3]<t[3])&&(t[3]=t[1]),t},n=m(o());return p((()=>e.tableShape),(()=>{n.value=o()})),()=>d("div",{class:"".concat(te,"-table-shape"),onMouseleave:()=>{n.value=o(),t.x=-1,t.y=-1}},[new Array(n.value[1]).fill("").map(((o,a)=>d("div",{class:"".concat(te,"-table-shape-row"),key:"table-shape-row-".concat(a)},[new Array(n.value[0]).fill("").map(((o,l)=>d("div",{class:"".concat(te,"-table-shape-col"),key:"table-shape-col-".concat(l),onMouseenter:()=>{t.x=a,t.y=l,l+1===n.value[0]&&l+1<n.value[2]?n.value[0]++:l+2<n.value[0]&&n.value[0]>e.tableShape[0]&&n.value[0]--,a+1===n.value[1]&&a+1<n.value[3]?n.value[1]++:a+2<n.value[1]&&n.value[1]>e.tableShape[1]&&n.value[1]--},onClick:()=>{e.onSelected(t)}},[d("div",{class:["".concat(te,"-table-shape-col-default"),a<=t.x&&l<=t.y&&"".concat(te,"-table-shape-col-include")]},null)])))])))])}}),Po=s({props:{type:{type:String,default:"link"},visible:{type:Boolean,default:!1},onCancel:{type:Function,default:()=>{}},onOk:{type:Function,default:()=>{}}},setup(e){const t=c("usedLanguageText"),o=c("editorId"),n=b((()=>{var o,n;switch(e.type){case"link":return null==(o=t.value.linkModalTips)?void 0:o.linkTitle;case"image":return null==(n=t.value.linkModalTips)?void 0:n.imageTitle;default:return""}})),a=u({desc:"",url:""});return p((()=>e.visible),(e=>{e||setTimeout((()=>{a.desc="",a.url=""}),200)})),()=>d(Xe,{title:n.value,visible:e.visible,onClose:e.onCancel},{default:()=>{var n,l,i,r,s;return[d("div",{class:"".concat(te,"-form-item")},[d("label",{class:"".concat(te,"-label"),for:"link-desc-".concat(o)},[null==(n=t.value.linkModalTips)?void 0:n.descLabel]),d("input",{placeholder:null==(l=t.value.linkModalTips)?void 0:l.descLabelPlaceHolder,class:"".concat(te,"-input"),id:"link-desc-".concat(o),type:"text",value:a.desc,onChange:e=>{a.desc=e.target.value},autocomplete:"off"},null)]),d("div",{class:"".concat(te,"-form-item")},[d("label",{class:"".concat(te,"-label"),for:"link-url-".concat(o)},[null==(i=t.value.linkModalTips)?void 0:i.urlLabel]),d("input",{placeholder:null==(r=t.value.linkModalTips)?void 0:r.urlLabelPlaceHolder,class:"".concat(te,"-input"),id:"link-url-".concat(o),type:"text",value:a.url,onChange:e=>{a.url=e.target.value},autocomplete:"off"},null)]),d("div",{class:"".concat(te,"-form-item")},[d("button",{class:["".concat(te,"-btn"),"".concat(te,"-btn-row")],type:"button",onClick:()=>{e.onOk(a),a.desc="",a.url=""}},[null==(s=t.value.linkModalTips)?void 0:s.buttonOK])])]}})}}),Vo=s({props:{visible:{type:Boolean,default:!1},onCancel:{type:Function,default:()=>{}},onOk:{type:Function,default:()=>{}}},setup(e){const t=c("usedLanguageText"),o=c("editorId");let n=pe.editorExtensions.cropper.instance;const a=m(),l=m(),i=m(),r=u({cropperInited:!1,imgSelected:!1,imgSrc:"",isFullscreen:!1});let s=null;p((()=>e.visible),(()=>{e.visible&&!r.cropperInited&&(n=n||window.Cropper,a.value.onchange=()=>{if(!n)return void ke.emit(o,je,{name:"Cropper",message:"Cropper is undefined"});const e=a.value.files||[];if(r.imgSelected=!0,(null==e?void 0:e.length)>0){const t=new FileReader;t.onload=e=>{r.imgSrc=e.target.result,y((()=>{s=new n(l.value,{viewMode:2,preview:".".concat(te,"-clip-preview-target")})}))},t.readAsDataURL(e[0])}})})),p((()=>[r.imgSelected]),(()=>{i.value.style=""})),p((()=>r.isFullscreen),(()=>{y((()=>{null==s||s.destroy(),i.value.style="",l.value&&(s=new n(l.value,{viewMode:2,preview:".".concat(te,"-clip-preview-target")}))}))}));const g=()=>{s.clear(),s.destroy(),s=null,a.value.value="",r.imgSelected=!1};return()=>{var n;return d(Xe,{class:"".concat(te,"-modal-clip"),title:null==(n=t.value.clipModalTips)?void 0:n.title,visible:e.visible,onClose:e.onCancel,showAdjust:!0,isFullscreen:r.isFullscreen,onAdjust:e=>{r.isFullscreen=e},width:"668px",height:"421px"},{default:()=>{var n,c;return[d("div",{class:"".concat(te,"-form-item ").concat(te,"-clip")},[d("div",{class:"".concat(te,"-clip-main")},[r.imgSelected?d("div",{class:"".concat(te,"-clip-cropper")},[d("img",{src:r.imgSrc,ref:l,style:{display:"none"},alt:""},null),d("div",{class:"".concat(te,"-clip-delete"),onClick:g},[d(Ge,{name:"delete"},null)])]):d("div",{class:"".concat(te,"-clip-upload"),onClick:()=>{a.value.click()}},[d(Ge,{name:"upload"},null)])]),d("div",{class:"".concat(te,"-clip-preview")},[d("div",{class:"".concat(te,"-clip-preview-target"),ref:i},null)])]),d("div",{class:"".concat(te,"-form-item")},[d("button",{class:"".concat(te,"-btn"),type:"button",onClick:()=>{if(s){const t=s.getCroppedCanvas();ke.emit(o,Me,[qe(t.toDataURL("image/png"))],e.onOk),g()}}},[(null==(n=t.value.clipModalTips)?void 0:n.buttonUpload)||(null==(c=t.value.linkModalTips)?void 0:c.buttonOK)])]),d("input",{ref:a,accept:"image/*",type:"file",multiple:!1,style:{display:"none"}},null)]}})}}}),No=s({props:{type:{type:String,default:"link"},linkVisible:{type:Boolean,default:!1},clipVisible:{type:Boolean,default:!1},onCancel:{type:Function,default:()=>{}},onOk:{type:Function,default:()=>{}}},setup:e=>()=>d(x,null,[d(Po,{type:e.type,visible:e.linkVisible,onOk:e.onOk,onCancel:e.onCancel},null),d(Vo,{visible:e.clipVisible,onOk:e.onOk,onCancel:e.onCancel},null)])}),Do=s({name:"MDEditorToolbar",props:Oo,setup(e){const t=c("editorId"),o=c("usedLanguageText"),n=c("theme"),i=c("previewTheme"),r=c("language"),{fullscreenHandler:s}=(e=>{const t=c("editorId"),{editorExtensions:o,editorExtensionsAttrs:n}=pe;let a=o.screenfull.instance;const l=m(!1),i=e=>{a?a.isEnabled?(l.value=!0,(void 0===e?!a.isFullscreen:e)?a.request():a.exit()):console.error("browser does not support screenfull!"):ke.emit(t,je,{name:"fullscreen",message:"fullscreen is undefined"})},r=()=>{a&&a.isEnabled&&a.on("change",(()=>{(l.value||e.setting.fullscreen)&&(l.value=!1,e.updateSetting("fullscreen"))}))},s=()=>{a=window.screenfull,r()};return g((()=>{var e;r(),a||_e("script",{...null==(e=n.screenfull)?void 0:e.js,src:o.screenfull.js,id:"".concat(te,"-screenfull"),onload:s},"screenfull")})),g((()=>{ke.on(t,{name:xe,callback:i})})),{fullscreenHandler:i}})(e),h="".concat(t,"-toolbar-wrapper"),f=m(),k=u({title:!1,catalog:!1,image:!1,table:!1,mermaid:!1,katex:!1}),w=(e,o)=>{ke.emit(t,He,e,o)},C=u({type:"link",linkVisible:!1,clipVisible:!1}),T=m();g((()=>{ke.on(t,{name:Oe,callback(e){C.type=e,C.linkVisible=!0}})}));const S=b((()=>{const t=e.toolbars.filter((t=>!e.toolbarsExclude.includes(t))),o=t.indexOf("=");return[-1===o?t:t.slice(0,o+1),-1===o?[]:t.slice(o,Number.MAX_SAFE_INTEGER)]})),I=m(),A=()=>{ke.emit(t,Me,Array.from(I.value.files||[])),I.value.value=""};g((()=>{I.value.addEventListener("change",A)}));const E=a=>{var c,u,m,p,g,f,b,y,x,T,S,A,E,F,L,j,H,M,O,B,P,V,N,D,R,z,_,W,q,$,U,K,G,X,Z,J,Y,Q,ee,oe,ne,ae,le,ie,se,ce,de,ue,me,pe,ge,he,fe,be,ye,xe,Te,Se,Ie,Ae,Ee,Fe,Le,je,Me,Oe,Ve,Ne,De;if(!re.includes(a)){if(e.defToolbars instanceof Array){const o=e.defToolbars[a];if(o){return v(o,{theme:n.value,previewTheme:i.value,language:r.value,insert(e){ke.emit(t,He,"universal",{generate:e})}})}return""}if(e.defToolbars&&e.defToolbars.children instanceof Array){const o=e.defToolbars.children[a];if(o){return v(o,{theme:n.value,previewTheme:i.value,language:r.value,insert(e){ke.emit(t,He,"universal",{generate:e})}})}return""}return""}switch(a){case"-":return d(Mo,null,null);case"bold":return d("div",{class:"".concat(te,"-toolbar-item"),title:null==(c=o.value.toolbarTips)?void 0:c.bold,onClick:()=>{w("bold")}},[d(Ge,{name:"bold"},null),e.showToolbarName&&d("div",{class:"".concat(te,"-toolbar-item-name")},[null==(u=o.value.toolbarTips)?void 0:u.bold])]);case"underline":return d("div",{class:"".concat(te,"-toolbar-item"),title:null==(m=o.value.toolbarTips)?void 0:m.underline,onClick:()=>{w("underline")}},[d(Ge,{name:"underline"},null),e.showToolbarName&&d("div",{class:"".concat(te,"-toolbar-item-name")},[null==(p=o.value.toolbarTips)?void 0:p.underline])]);case"italic":return d("div",{class:"".concat(te,"-toolbar-item"),title:null==(g=o.value.toolbarTips)?void 0:g.italic,onClick:()=>{w("italic")}},[d(Ge,{name:"italic"},null),e.showToolbarName&&d("div",{class:"".concat(te,"-toolbar-item-name")},[null==(f=o.value.toolbarTips)?void 0:f.italic])]);case"strikeThrough":return d("div",{class:"".concat(te,"-toolbar-item"),title:null==(b=o.value.toolbarTips)?void 0:b.strikeThrough,onClick:()=>{w("strikeThrough")}},[d(Ge,{name:"strike-through"},null),e.showToolbarName&&d("div",{class:"".concat(te,"-toolbar-item-name")},[null==(y=o.value.toolbarTips)?void 0:y.strikeThrough])]);case"title":return d(ve,{relative:"#".concat(h),visible:k.title,onChange:e=>{k.title=e},overlay:d("ul",{class:"".concat(te,"-menu"),onClick:()=>{k.title=!1}},[d("li",{class:"".concat(te,"-menu-item ").concat(te,"-menu-item-title"),onClick:()=>{w("h1")}},[null==(x=o.value.titleItem)?void 0:x.h1]),d("li",{class:"".concat(te,"-menu-item ").concat(te,"-menu-item-title"),onClick:()=>{w("h2")}},[null==(T=o.value.titleItem)?void 0:T.h2]),d("li",{class:"".concat(te,"-menu-item ").concat(te,"-menu-item-title"),onClick:()=>{w("h3")}},[null==(S=o.value.titleItem)?void 0:S.h3]),d("li",{class:"".concat(te,"-menu-item ").concat(te,"-menu-item-title"),onClick:()=>{w("h4")}},[null==(A=o.value.titleItem)?void 0:A.h4]),d("li",{class:"".concat(te,"-menu-item ").concat(te,"-menu-item-title"),onClick:()=>{w("h5")}},[null==(E=o.value.titleItem)?void 0:E.h5]),d("li",{class:"".concat(te,"-menu-item ").concat(te,"-menu-item-title"),onClick:()=>{w("h6")}},[null==(F=o.value.titleItem)?void 0:F.h6])])},{default:()=>{var t,n;return[d("div",{class:"".concat(te,"-toolbar-item"),title:null==(t=o.value.toolbarTips)?void 0:t.title},[d(Ge,{name:"title"},null),e.showToolbarName&&d("div",{class:"".concat(te,"-toolbar-item-name")},[null==(n=o.value.toolbarTips)?void 0:n.title])])]}});case"sub":return d("div",{class:"".concat(te,"-toolbar-item"),title:null==(L=o.value.toolbarTips)?void 0:L.sub,onClick:()=>{w("sub")}},[d(Ge,{name:"sub"},null),e.showToolbarName&&d("div",{class:"".concat(te,"-toolbar-item-name")},[null==(j=o.value.toolbarTips)?void 0:j.sub])]);case"sup":return d("div",{class:"".concat(te,"-toolbar-item"),title:null==(H=o.value.toolbarTips)?void 0:H.sup,onClick:()=>{w("sup")}},[d(Ge,{name:"sup"},null),e.showToolbarName&&d("div",{class:"".concat(te,"-toolbar-item-name")},[null==(M=o.value.toolbarTips)?void 0:M.sup])]);case"quote":return d("div",{class:"".concat(te,"-toolbar-item"),title:null==(O=o.value.toolbarTips)?void 0:O.quote,onClick:()=>{w("quote")}},[d(Ge,{name:"quote"},null),e.showToolbarName&&d("div",{class:"".concat(te,"-toolbar-item-name")},[null==(B=o.value.toolbarTips)?void 0:B.quote])]);case"unorderedList":return d("div",{class:"".concat(te,"-toolbar-item"),title:null==(P=o.value.toolbarTips)?void 0:P.unorderedList,onClick:()=>{w("unorderedList")}},[d(Ge,{name:"unordered-list"},null),e.showToolbarName&&d("div",{class:"".concat(te,"-toolbar-item-name")},[null==(V=o.value.toolbarTips)?void 0:V.unorderedList])]);case"orderedList":return d("div",{class:"".concat(te,"-toolbar-item"),title:null==(N=o.value.toolbarTips)?void 0:N.orderedList,onClick:()=>{w("orderedList")}},[d(Ge,{name:"ordered-list"},null),e.showToolbarName&&d("div",{class:"".concat(te,"-toolbar-item-name")},[null==(D=o.value.toolbarTips)?void 0:D.orderedList])]);case"task":return d("div",{class:"".concat(te,"-toolbar-item"),title:null==(R=o.value.toolbarTips)?void 0:R.task,onClick:()=>{w("task")}},[d(Ge,{name:"task"},null),e.showToolbarName&&d("div",{class:"".concat(te,"-toolbar-item-name")},[null==(z=o.value.toolbarTips)?void 0:z.task])]);case"codeRow":return d("div",{class:"".concat(te,"-toolbar-item"),title:null==(_=o.value.toolbarTips)?void 0:_.codeRow,onClick:()=>{w("codeRow")}},[d(Ge,{name:"code-row"},null),e.showToolbarName&&d("div",{class:"".concat(te,"-toolbar-item-name")},[null==(W=o.value.toolbarTips)?void 0:W.codeRow])]);case"code":return d("div",{class:"".concat(te,"-toolbar-item"),title:null==(q=o.value.toolbarTips)?void 0:q.code,onClick:()=>{w("code")}},[d(Ge,{name:"code"},null),e.showToolbarName&&d("div",{class:"".concat(te,"-toolbar-item-name")},[null==($=o.value.toolbarTips)?void 0:$.code])]);case"link":return d("div",{class:"".concat(te,"-toolbar-item"),title:null==(U=o.value.toolbarTips)?void 0:U.link,onClick:()=>{C.type="link",C.linkVisible=!0}},[d(Ge,{name:"link"},null),e.showToolbarName&&d("div",{class:"".concat(te,"-toolbar-item-name")},[null==(K=o.value.toolbarTips)?void 0:K.link])]);case"image":return e.noUploadImg?d("div",{class:"".concat(te,"-toolbar-item"),title:null==(G=o.value.toolbarTips)?void 0:G.image,onClick:()=>{C.type="image",C.linkVisible=!0}},[d(Ge,{name:"image"},null),e.showToolbarName&&d("div",{class:"".concat(te,"-toolbar-item-name")},[null==(X=o.value.toolbarTips)?void 0:X.image])]):d(ve,{relative:"#".concat(h),visible:k.image,onChange:e=>{k.image=e},overlay:d("ul",{class:"".concat(te,"-menu"),onClick:()=>{k.title=!1}},[d("li",{class:"".concat(te,"-menu-item ").concat(te,"-menu-item-image"),onClick:()=>{C.type="image",C.linkVisible=!0}},[null==(Z=o.value.imgTitleItem)?void 0:Z.link]),d("li",{class:"".concat(te,"-menu-item ").concat(te,"-menu-item-image"),onClick:()=>{I.value.click()}},[null==(J=o.value.imgTitleItem)?void 0:J.upload]),d("li",{class:"".concat(te,"-menu-item ").concat(te,"-menu-item-image"),onClick:()=>{C.clipVisible=!0}},[null==(Y=o.value.imgTitleItem)?void 0:Y.clip2upload])])},{default:()=>{var t,n;return[d("div",{class:"".concat(te,"-toolbar-item"),title:null==(t=o.value.toolbarTips)?void 0:t.image},[d(Ge,{name:"image"},null),e.showToolbarName&&d("div",{class:"".concat(te,"-toolbar-item-name")},[null==(n=o.value.toolbarTips)?void 0:n.image])])]}});case"table":return d(ve,{relative:"#".concat(h),visible:k.table,onChange:e=>{k.table=e},key:"bar-table",overlay:d(Bo,{tableShape:e.tableShape,onSelected:e=>{w("table",{selectedShape:e})}},null)},{default:()=>{var t,n;return[d("div",{class:"".concat(te,"-toolbar-item"),title:null==(t=o.value.toolbarTips)?void 0:t.table},[d(Ge,{name:"table"},null),e.showToolbarName&&d("div",{class:"".concat(te,"-toolbar-item-name")},[null==(n=o.value.toolbarTips)?void 0:n.table])])]}});case"revoke":return d("div",{class:"".concat(te,"-toolbar-item"),title:null==(Q=o.value.toolbarTips)?void 0:Q.revoke,onClick:()=>{ke.emit(t,Be)}},[d(Ge,{name:"revoke"},null),e.showToolbarName&&d("div",{class:"".concat(te,"-toolbar-item-name")},[null==(ee=o.value.toolbarTips)?void 0:ee.revoke])]);case"next":return d("div",{class:"".concat(te,"-toolbar-item"),title:null==(oe=o.value.toolbarTips)?void 0:oe.next,onClick:()=>{ke.emit(t,Pe)}},[d(Ge,{name:"next"},null),e.showToolbarName&&d("div",{class:"".concat(te,"-toolbar-item-name")},[null==(ne=o.value.toolbarTips)?void 0:ne.next])]);case"save":return d("div",{class:"".concat(te,"-toolbar-item"),title:null==(ae=o.value.toolbarTips)?void 0:ae.save,onClick:()=>{ke.emit(t,we)}},[d(Ge,{name:"baocun"},null),e.showToolbarName&&d("div",{class:"".concat(te,"-toolbar-item-name")},[null==(le=o.value.toolbarTips)?void 0:le.save])]);case"prettier":return e.noPrettier?"":d("div",{class:"".concat(te,"-toolbar-item"),title:null==(ie=o.value.toolbarTips)?void 0:ie.prettier,onClick:()=>{w("prettier")}},[d(Ge,{name:"prettier"},null),e.showToolbarName&&d("div",{class:"".concat(te,"-toolbar-item-name")},[null==(se=o.value.toolbarTips)?void 0:se.prettier])]);case"pageFullscreen":return!e.setting.fullscreen&&d("div",{class:"".concat(te,"-toolbar-item"),title:null==(ce=o.value.toolbarTips)?void 0:ce.pageFullscreen,onClick:()=>{e.updateSetting("pageFullscreen")}},[d(Ge,{name:e.setting.pageFullscreen?"suoxiao":"fangda"},null),e.showToolbarName&&d("div",{class:"".concat(te,"-toolbar-item-name")},[null==(de=o.value.toolbarTips)?void 0:de.pageFullscreen])]);case"fullscreen":return d("div",{class:"".concat(te,"-toolbar-item"),title:null==(ue=o.value.toolbarTips)?void 0:ue.fullscreen,onClick:()=>{s()}},[d(Ge,{name:e.setting.fullscreen?"fullscreen-exit":"fullscreen"},null),e.showToolbarName&&d("div",{class:"".concat(te,"-toolbar-item-name")},[null==(me=o.value.toolbarTips)?void 0:me.fullscreen])]);case"preview":return d("div",{class:"".concat(te,"-toolbar-item"),title:null==(pe=o.value.toolbarTips)?void 0:pe.preview,onClick:()=>{e.updateSetting("preview")}},[d(Ge,{name:"preview"},null),e.showToolbarName&&d("div",{class:"".concat(te,"-toolbar-item-name")},[null==(ge=o.value.toolbarTips)?void 0:ge.preview])]);case"previewOnly":return d("div",{class:"".concat(te,"-toolbar-item"),title:null==(he=o.value.toolbarTips)?void 0:he.previewOnly,onClick:()=>{e.updateSetting("previewOnly")}},[d(Ge,{name:"preview-only"},null),e.showToolbarName&&d("div",{class:"".concat(te,"-toolbar-item-name")},[null==(fe=o.value.toolbarTips)?void 0:fe.previewOnly])]);case"htmlPreview":return d("div",{class:"".concat(te,"-toolbar-item"),title:null==(be=o.value.toolbarTips)?void 0:be.htmlPreview,onClick:()=>{e.updateSetting("htmlPreview")}},[d(Ge,{name:"coding"},null),e.showToolbarName&&d("div",{class:"".concat(te,"-toolbar-item-name")},[null==(ye=o.value.toolbarTips)?void 0:ye.htmlPreview])]);case"catalog":return d("div",{class:"".concat(te,"-toolbar-item"),title:null==(xe=o.value.toolbarTips)?void 0:xe.catalog,onClick:()=>{ke.emit(t,Ce)},key:"bar-catalog"},[d(Ge,{name:"catalog"},null),e.showToolbarName&&d("div",{class:"".concat(te,"-toolbar-item-name")},[null==(Te=o.value.toolbarTips)?void 0:Te.catalog])]);case"github":return d("div",{class:"".concat(te,"-toolbar-item"),title:null==(Se=o.value.toolbarTips)?void 0:Se.github,onClick:()=>l("https://github.com/imzbf/md-editor-v3")},[d(Ge,{name:"github"},null),e.showToolbarName&&d("div",{class:"".concat(te,"-toolbar-item-name")},[null==(Ie=o.value.toolbarTips)?void 0:Ie.github])]);case"mermaid":return d(ve,{relative:"#".concat(h),visible:k.mermaid,onChange:e=>{k.mermaid=e},overlay:d("ul",{class:"".concat(te,"-menu"),onClick:()=>{k.mermaid=!1}},[d("li",{class:"".concat(te,"-menu-item ").concat(te,"-menu-item-mermaid"),onClick:()=>{w("flow")}},[null==(Ae=o.value.mermaid)?void 0:Ae.flow]),d("li",{class:"".concat(te,"-menu-item ").concat(te,"-menu-item-mermaid"),onClick:()=>{w("sequence")}},[null==(Ee=o.value.mermaid)?void 0:Ee.sequence]),d("li",{class:"".concat(te,"-menu-item ").concat(te,"-menu-item-mermaid"),onClick:()=>{w("gantt")}},[null==(Fe=o.value.mermaid)?void 0:Fe.gantt]),d("li",{class:"".concat(te,"-menu-item ").concat(te,"-menu-item-mermaid"),onClick:()=>{w("class")}},[null==(Le=o.value.mermaid)?void 0:Le.class]),d("li",{class:"".concat(te,"-menu-item ").concat(te,"-menu-item-mermaid"),onClick:()=>{w("state")}},[null==(je=o.value.mermaid)?void 0:je.state]),d("li",{class:"".concat(te,"-menu-item ").concat(te,"-menu-item-mermaid"),onClick:()=>{w("pie")}},[null==(Me=o.value.mermaid)?void 0:Me.pie]),d("li",{class:"".concat(te,"-menu-item ").concat(te,"-menu-item-mermaid"),onClick:()=>{w("relationship")}},[null==(Oe=o.value.mermaid)?void 0:Oe.relationship]),d("li",{class:"".concat(te,"-menu-item ").concat(te,"-menu-item-mermaid"),onClick:()=>{w("journey")}},[null==(Ve=o.value.mermaid)?void 0:Ve.journey])]),key:"bar-mermaid"},{default:()=>{var t,n;return[d("div",{class:"".concat(te,"-toolbar-item"),title:null==(t=o.value.toolbarTips)?void 0:t.mermaid},[d(Ge,{name:"mermaid"},null),e.showToolbarName&&d("div",{class:"".concat(te,"-toolbar-item-name")},[null==(n=o.value.toolbarTips)?void 0:n.mermaid])])]}});case"katex":return d(ve,{relative:"#".concat(h),visible:k.katex,onChange:e=>{k.katex=e},overlay:d("ul",{class:"".concat(te,"-menu"),onClick:()=>{k.katex=!1}},[d("li",{class:"".concat(te,"-menu-item ").concat(te,"-menu-item-katex"),onClick:()=>{w("katexInline")}},[null==(Ne=o.value.katex)?void 0:Ne.inline]),d("li",{class:"".concat(te,"-menu-item ").concat(te,"-menu-item-katex"),onClick:()=>{w("katexBlock")}},[null==(De=o.value.katex)?void 0:De.block])]),key:"bar-katex"},{default:()=>{var t,n;return[d("div",{class:"".concat(te,"-toolbar-item"),title:null==(t=o.value.toolbarTips)?void 0:t.katex},[d(Ge,{name:"formula"},null),e.showToolbarName&&d("div",{class:"".concat(te,"-toolbar-item-name")},[null==(n=o.value.toolbarTips)?void 0:n.katex])])]}})}};return p((()=>e.toolbars),(()=>{y((()=>{f.value&&a(f.value)}))}),{immediate:!0}),()=>{const t=S.value[0].map((e=>E(e))),o=S.value[1].map((e=>E(e)));return d(x,null,[e.toolbars.length>0&&d("div",{class:"".concat(te,"-toolbar-wrapper"),ref:f,id:h},[d("div",{class:["".concat(te,"-toolbar"),e.showToolbarName&&"".concat(te,"-stn")]},[d("div",{class:"".concat(te,"-toolbar-left"),ref:T},[t]),d("div",{class:"".concat(te,"-toolbar-right")},[o])])]),d("input",{ref:I,accept:"image/*",type:"file",multiple:!0,style:{display:"none"}},null),d(No,{linkVisible:C.linkVisible,clipVisible:C.clipVisible,type:C.type,onCancel:()=>{C.linkVisible=!1,C.clipVisible=!1},onOk:e=>{e&&w(C.type,{desc:e.desc,url:e.url,transform:"image"===C.type}),C.linkVisible=!1,C.clipVisible=!1}},null)])}}}),Ro=".".concat(te,"-preview > [data-line]"),zo=(e,t)=>+getComputedStyle(e).getPropertyValue(t).replace("px",""),_o=(e,t)=>{const n=o((()=>{e.removeEventListener("scroll",a),e.addEventListener("scroll",a),t.removeEventListener("scroll",a),t.addEventListener("scroll",a)}),50),a=o=>{const l=e.clientHeight,i=t.clientHeight,r=(e.scrollHeight-l)/(t.scrollHeight-i);o.target===e?(t.removeEventListener("scroll",a),t.scrollTo({top:e.scrollTop/r}),n()):(e.removeEventListener("scroll",a),e.scrollTo({top:t.scrollTop*r}),n())};return[()=>{n().finally((()=>{e.dispatchEvent(new Event("scroll"))}))},()=>{e.removeEventListener("scroll",a),t.removeEventListener("scroll",a)}]},Wo=(e,t,o)=>{const{view:n}=o,a=r(),l=e=>n.lineBlockAt(n.state.doc.line(e+1).from).top,s=e=>n.lineBlockAt(n.state.doc.line(e+1).from).bottom;let c=[],d=[],u=[];const m=()=>{c=[],d=Array.from(t.querySelectorAll(Ro)),u=d.map((e=>Number(e.dataset.line)));const e=[...u],{lines:o}=n.state.doc;let a=e.shift()||0,l=e.shift()||o;for(let t=0;t<o;t++)t===l&&(a=t,l=e.shift()||o),c.push({start:a,end:l-1})},p=(e,t)=>{let o=0;for(let n=d.length-1;n-1>=0;n--){const e=d[n],a=d[n-1];if(e.offsetTop+e.offsetHeight>t&&a.offsetTop<t){o=Number(a.dataset.line);break}}for(let n=c.length-1;n>=0;n--){const t=s(c[n].end),a=l(c[n].start);if(t>e&&a<=e){o=o<c[n].start?o:c[n].start;break}}return o};let g=0,h=0;const v=i((o=>{var i;const{scrollDOM:r,contentHeight:v}=n;return!(v<=r.clientHeight||t.firstElementChild.clientHeight<=t.clientHeight)&&(n.state.doc.lines<(null==(i=c[c.length-1])?void 0:i.end)?(m(),!1):void(o.target===e?(()=>{var e,o,i;if(0!==h)return!1;g++;const{scrollDOM:r,contentHeight:d}=n;let u=zo(t,"padding-top");const m=n.lineBlockAtHeight(r.scrollTop),{number:v}=n.state.doc.lineAt(m.from),f=c[v-1];if(!f)return!1;let b=1;const y=t.querySelector('[data-line="'.concat(f.start,'"]'))||(null==(e=t.firstElementChild)?void 0:e.firstElementChild),k=t.querySelector('[data-line="'.concat(f.end+1,'"]'))||(null==(o=t.lastElementChild)?void 0:o.lastElementChild),w=r.scrollHeight-r.clientHeight,C=t.scrollHeight-t.clientHeight;let x=l(f.start),T=s(f.end),S=y.offsetTop,I=k.offsetTop-S;if(0===x&&(S=0,y===k?(u=0,T=d-r.offsetHeight,I=C):I=k.offsetTop),b=(r.scrollTop-x+zo(n.contentDOM,"padding-bottom"))/(T-x),x>0&&(T>=w||k.offsetTop+k.clientHeight>C)){const e=p(w,C);x=l(e),b=(r.scrollTop-x)/(w-x),S=null==(i=document.querySelector('[data-line="'.concat(e,'"]')))?void 0:i.offsetTop,I=C-S+zo(t,"padding-top")}a(t,S-u+I*b,(()=>{g--}))})():(()=>{var o,i,r,s,m,v,f;if(0!==g)return;h++;const{scrollDOM:b}=n,y=t.scrollTop,k=t.scrollHeight,w=b.scrollHeight-b.clientHeight,C=t.scrollHeight-t.clientHeight;let x=null==(o=t.firstElementChild)?void 0:o.firstElementChild,T=null==(i=t.firstElementChild)?void 0:i.lastElementChild;if(u.length>0){let e=Math.ceil(u[u.length-1]*(y/k)),o=u.findLastIndex((t=>t<=e));o=-1===o?0:o,e=u[o];for(let t=o;t>=0&&t<u.length;){if(d[t].offsetTop>y){if(t-1>=0){t--;continue}e=-1,o=t;break}if(!(t+1<u.length&&d[t+1].offsetTop<y)){e=u[t],o=t;break}t++}switch(o){case-1:x=null==(r=t.firstElementChild)?void 0:r.firstElementChild,T=d[o];break;case u.length-1:x=d[o],T=null==(s=t.firstElementChild)?void 0:s.lastElementChild;break;default:x=d[o],T=d[o+1===d.length?o:o+1]}}let S=x===(null==(m=t.firstElementChild)?void 0:m.firstElementChild)?0:x.offsetTop,I=T.offsetTop,A=0;const{start:E,end:F}=c[Number(x.dataset.line||0)];let L=l(E);const j=l(F+1===n.state.doc.lines?F:F+1);let H=0;if(j>w||T.offsetTop+T.offsetHeight>C){const e=p(w,C);S=null==(v=document.querySelector('[data-line="'.concat(e,'"]')))?void 0:v.offsetTop,L=l(e),A=(y-S)/(C-S),H=w-L}else x===(null==(f=t.firstElementChild)?void 0:f.firstElementChild)?(x===T?(I=T.offsetTop+T.offsetHeight+ +getComputedStyle(T).marginBottom.replace("px",""),H=j):H=j,A=Math.max(y/I,0)):(A=Math.max((y-S)/(I-S),0),H=j-L);a(e,L+H*A,(()=>{h--}))})()))}),1);return[()=>{m(),e.addEventListener("scroll",v),t.addEventListener("scroll",v),e.dispatchEvent(new Event("scroll"))},()=>{e.removeEventListener("scroll",v),t.removeEventListener("scroll",v)}]},qo=(e,t,o)=>{var n,a;let l="",i=0,r=0,s=!0,c=!1;const d=t.getSelectedText(),u=pe.editorConfig.mermaidTemplate;if(/^h[1-6]{1}$/.test(e)){const t=e.replace(/^h(\d)/,((e,t)=>new Array(Number(t)).fill("#",0,t).join("")));l="".concat(t," ").concat(d),i=t.length+1}else if("prettier"===e){const e=window.prettier||pe.editorExtensions.prettier.prettierInstance,n=[(null==(a=window.prettierPlugins)?void 0:a.markdown)||pe.editorExtensions.prettier.parserMarkdownInstance];e&&void 0!==n[0]?l=e.format(t.getValue(),{parser:"markdown",plugins:n}):(ke.emit(o.editorId,je,{name:"prettier",message:"prettier is undefined"}),l=t.getValue()),s=!1,c=!0}else switch(e){case"bold":l="**".concat(d,"**"),i=2,r=-2;break;case"underline":l="<u>".concat(d,"</u>"),i=3,r=-4;break;case"italic":l="*".concat(d,"*"),i=1,r=-1;break;case"strikeThrough":l="~~".concat(d,"~~"),i=2,r=-2;break;case"sub":l="<sub>".concat(d,"</sub>"),i=5,r=-6;break;case"sup":l="<sup>".concat(d,"</sup>"),i=5,r=-6;break;case"codeRow":l="`"+d+"`",i=1,r=-1;break;case"quote":l="> ".concat(d),i=2;break;case"orderedList":l="1. ".concat(d),i=3;break;case"unorderedList":l="- ".concat(d),i=2;break;case"task":l="- [ ] ".concat(d),i=6;break;case"code":{const e=o.text||d||"",t=o.mode||"language";l="```".concat(t,"\n").concat(e,"\n```\n"),i=3,r=3+t.length-l.length;break}case"table":{l="|";const{selectedShape:e={x:1,y:1}}=o,{x:t,y:n}=e;for(let o=0;o<=n;o++)l+=" col |";l+="\n|";for(let o=0;o<=n;o++)l+=" - |";for(let o=0;o<=t;o++){l+="\n|";for(let e=0;e<=n;e++)l+=" content |"}i=2,r=5-l.length;break}case"link":{const{desc:e,url:t}=o;l="[".concat(e,"](").concat(t,")"),s=!1;break}case"image":{const{desc:e,url:t,urls:n}=o;l=n instanceof Array?n.reduce(((e,t)=>{const{url:o="",alt:n="",title:a=""}="object"==typeof t?t:{url:t};return e+"![".concat(n,"](").concat(o).concat(a?" '"+a+"'":"",")\n")}),""):"![".concat(e,"](").concat(t,")\n"),s=!1;break}case"flow":l="```mermaid\n".concat((null==u?void 0:u.flow)||"flowchart TD \n  Start --\x3e Stop","\n```\n"),i=3,r=10-l.length;break;case"sequence":l="```mermaid\n".concat((null==u?void 0:u.sequence)||"sequenceDiagram\n  A->>B: hello!\n  B--\x3e>A: hi!\n  A-)B: bye!","\n```\n"),i=3,r=10-l.length;break;case"gantt":l="```mermaid\n".concat((null==u?void 0:u.gantt)||"gantt\ntitle A Gantt Diagram\ndateFormat  YYYY-MM-DD\nsection Section\nA task  :a1, 2014-01-01, 30d\nAnother task  :after a1, 20d","\n```\n"),i=3,r=10-l.length;break;case"class":l="```mermaid\n".concat((null==u?void 0:u.class)||"classDiagram\n  class Animal\n  Vehicle <|-- Car","\n```\n"),i=3,r=10-l.length;break;case"state":l="```mermaid\n".concat((null==u?void 0:u.state)||"stateDiagram-v2\n  s1 --\x3e s2","\n```\n"),i=3,r=10-l.length;break;case"pie":l="```mermaid\n".concat((null==u?void 0:u.pie)||'pie title Pets adopted by volunteers\n  "Dogs" : 386\n  "Cats" : 85\n  "Rats" : 15',"\n```\n"),i=3,r=10-l.length;break;case"relationship":l="```mermaid\n".concat((null==u?void 0:u.relationship)||"erDiagram\n  CAR ||--o{ NAMED-DRIVER : allows\n  PERSON ||--o{ NAMED-DRIVER : is","\n```\n"),i=3,r=10-l.length;break;case"journey":l="```mermaid\n".concat((null==u?void 0:u.journey)||"journey\n  title My working day\n  section Go to work\n    Make tea: 5: Me\n    Go upstairs: 3: Me\n    Do work: 1: Me, Cat\n  section Go home\n    Go downstairs: 5: Me\n    Sit down: 5: Me","\n```\n"),i=3,r=10-l.length;break;case"katexInline":l="$$",i=1,r=-1;break;case"katexBlock":l="$$\n\n$$\n",i=3,r=-4;break;case"universal":{const{generate:e}=o,t=e(d);l=t.targetValue,s=null==(n=t.select)||n,i=t.deviationStart||0,r=t.deviationEnd||0}}return{text:l,options:{select:s,deviationStart:i,deviationEnd:r,replaceAll:c}}},$o="var(--md-color)",Uo="var(--md-color)",Ko="#e5c07b",Go="#d19a66",Xo="var(--md-bk-color)",Zo="var(--md-bk-color)",Jo="#528bff",Yo=[A.theme({"&":{color:Uo,backgroundColor:Xo},".cm-content":{caretColor:Jo},".cm-cursor, .cm-dropCursor":{borderLeftColor:Jo},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:"#ceedfa33"},".cm-panels":{backgroundColor:"#21252b",color:Uo},".cm-panels.cm-panels-top":{borderBottom:"1px solid var(--md-border-color)"},".cm-panels.cm-panels-bottom":{borderTop:"1px solid var(--md-border-color)"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#ceedfa33"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:Xo,color:Uo,borderRight:"1px solid",borderColor:"var(--md-border-color)"},".cm-activeLineGutter":{backgroundColor:"#2c313a"},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"1px solid var(--md-border-color)",backgroundColor:Zo},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Zo,borderBottomColor:Zo},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{color:Uo}}},{dark:!0}),F(E.define([{tag:G.keyword,color:"#c678dd"},{tag:[G.name,G.deleted,G.character,G.propertyName,G.macroName],color:$o},{tag:[G.function(G.variableName),G.labelName],color:"#e5c07b"},{tag:[G.color,G.constant(G.name),G.standard(G.name)],color:Go},{tag:[G.definition(G.name),G.separator],color:Uo},{tag:[G.typeName,G.className,G.number,G.changed,G.annotation,G.modifier,G.self,G.namespace],color:"#e5c07b"},{tag:[G.operator,G.operatorKeyword,G.url,G.escape,G.regexp,G.link,G.special(G.string)],color:"#56b6c2"},{tag:[G.meta,G.comment],color:Ko},{tag:G.strong,fontWeight:"bold"},{tag:G.emphasis,fontStyle:"italic"},{tag:G.strikethrough,textDecoration:"line-through"},{tag:G.link,color:Ko,textDecoration:"underline"},{tag:G.heading,fontWeight:"bold",color:$o},{tag:[G.atom,G.bool,G.special(G.variableName)],color:Go},{tag:[G.processingInstruction,G.string,G.inserted],color:"var(--md-color)"},{tag:G.invalid,color:"#ffffff"}]))],Qo="#3f4a54",en="#3f4a54",tn="#2d8cf0",on="#d19a66",nn="var(--md-bk-color)",an="var(--md-bk-color)",ln="#3f4a54",rn=[A.theme({"&":{color:en,backgroundColor:nn},".cm-content":{caretColor:ln},".cm-cursor, .cm-dropCursor":{borderLeftColor:ln},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:"#bad5fa"},".cm-panels":{backgroundColor:"#f6f6f6",color:en},".cm-panels.cm-panels-top":{borderBottom:"1px solid var(--md-border-color)"},".cm-panels.cm-panels-bottom":{borderTop:"1px solid var(--md-border-color)"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#ceedfa33"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:nn,color:en,borderRight:"1px solid",borderColor:"var(--md-border-color)"},".cm-activeLineGutter":{backgroundColor:"#ceedfa33"},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"1px solid var(--md-border-color)",backgroundColor:an},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:an,borderBottomColor:an},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{color:en}}}),F(E.define([{tag:G.keyword,color:"#c678dd"},{tag:[G.name,G.deleted,G.character,G.propertyName,G.macroName],color:Qo},{tag:[G.function(G.variableName),G.labelName],color:"#2d8cf0"},{tag:[G.color,G.constant(G.name),G.standard(G.name)],color:on},{tag:[G.definition(G.name),G.separator],color:en},{tag:[G.typeName,G.className,G.number,G.changed,G.annotation,G.modifier,G.self,G.namespace],color:"#e5c07b"},{tag:[G.operator,G.operatorKeyword,G.url,G.escape,G.regexp,G.link,G.special(G.string)],color:"#56b6c2"},{tag:[G.meta,G.comment],color:tn},{tag:G.strong,fontWeight:"bold"},{tag:G.emphasis,fontStyle:"italic"},{tag:G.strikethrough,textDecoration:"line-through"},{tag:G.link,color:tn,textDecoration:"underline"},{tag:G.heading,fontWeight:"bold",color:Qo},{tag:[G.atom,G.bool,G.special(G.variableName)],color:on},{tag:[G.processingInstruction,G.string,G.inserted],color:"#3f4a54"},{tag:G.invalid,color:"#fff"}]))],sn=(e,t,o,n,a)=>(l,i,r,s)=>{const c="".concat(e).concat(t).slice(s-r);l.dispatch(l.state.replaceSelection("".concat(c).concat(o).concat(n)));const d=r+i.label.length+("title"===a?o.length:0);l.dispatch({selection:D.create([D.range(r+i.label.length+("title"===a?1:-t.length),d),D.cursor(d)],1)}),l.focus()},cn=e=>(t,o,n,a)=>{const l=e.slice(a-n);t.dispatch(t.state.replaceSelection("".concat(l," ")))},dn=e=>{const t=e=>{const t=e.matchBefore(/^#+|^-\s*\[*\s*\]*|`+|\[|!\[*|^\|\s?\|?|\$\$?|!+\s*\w*/);return null===t||t.from==t.to&&e.explicit?null:{from:t.from,options:[...["h1","h2","h3","h4","h5","h6"].map(((e,t)=>{const o=new Array(t+1).fill("#").join("");return{label:o,type:"text",apply:cn(o)}})),...["unchecked","checked"].map((e=>{const t="checked"===e?"- [x]":"- [ ]";return{label:t,type:"text",apply:cn(t)}})),...[["`",""],["```","language"],["```mermaid\n",""]].map((e=>({label:"".concat(e[0]).concat(e[1]),type:"text",apply:sn(e[0],e[1],"","`"===e[0]?"`":"\n```","type")}))),{label:"[]()",type:"text"},{label:"![]()",type:"text"},{label:"| |",type:"text",detail:"table",apply:"| col | col | col |\n| - | - | - |\n| content | content | content |\n| content | content | content |"},{label:"$",type:"text",apply:sn("$","","","$","type")},{label:"$$",type:"text",apply:sn("$$","","\n","\n$$","title")},...["note","abstract","info","tip","success","question","warning","failure","danger","bug","example","quote","hint","caution","error","attention"].map((e=>({label:"!!! ".concat(e),type:"text",apply:sn("!!!"," ".concat(e)," Title","\n\n!!!","title")})))]}};return N({override:e?[t,...e]:[t]})},un=e=>{const t=new W;return o=>(t.get(e.state)?e.dispatch({effects:t.reconfigure(o)}):e.dispatch({effects:U.appendConfig.of(t.of(o))}),!0)};class mn{constructor(e){Ho(this,"view"),Ho(this,"maxLength",Number.MAX_SAFE_INTEGER),Ho(this,"toggleTabSize"),Ho(this,"togglePlaceholder"),Ho(this,"setExtensions"),Ho(this,"toggleDisabled"),Ho(this,"toggleReadOnly"),Ho(this,"toggleMaxlength"),this.view=e,this.toggleTabSize=un(this.view),this.togglePlaceholder=un(this.view),this.setExtensions=un(this.view),this.toggleDisabled=un(this.view),this.toggleReadOnly=un(this.view),this.toggleMaxlength=un(this.view)}getValue(){return this.view.state.doc.toString()}setValue(e,t=0,o=this.view.state.doc.length){this.view.dispatch({changes:{from:t,to:o,insert:e}})}getSelectedText(){const{from:e,to:t}=this.view.state.selection.main;return this.view.state.sliceDoc(e,t)}replaceSelectedText(e,t={select:!0,deviationStart:0,deviationEnd:0,replaceAll:!1},o){try{if(t.replaceAll){if(this.setValue(e),e.length>this.maxLength)throw new Error("The input text is too long");return}if(this.view.state.doc.length-this.getSelectedText().length+e.length>this.maxLength)throw new Error("The input text is too long");const{from:o}=this.view.state.selection.main;if(this.view.dispatch(this.view.state.replaceSelection(e)),t.select){const n=o+e.length+t.deviationEnd;this.view.dispatch({selection:D.create([D.range(o+t.deviationStart,n),D.cursor(n)],1)})}this.view.focus()}catch(n){if("The input text is too long"!==n.message)throw n;ke.emit(o,je,{name:"overlength",message:n.message,data:e})}}setTabSize(e){this.toggleTabSize([R.tabSize.of(e),z.of(" ".repeat(e))])}setPlaceholder(e){this.togglePlaceholder(_(e))}focus(e){if(this.view.focus(),!e)return;let t=0,o=0,n=0;switch(e){case"start":break;case"end":t=o=n=this.getValue().length;break;default:t=e.rangeAnchor||e.cursorPos,o=e.rangeHead||e.cursorPos,n=e.cursorPos}this.view.dispatch({scrollIntoView:!0,selection:D.create([D.range(t,o),D.cursor(n)],1)})}setDisabled(e){this.toggleDisabled([A.editable.of(!e)])}setReadOnly(e){this.toggleReadOnly([R.readOnly.of(e)])}setMaxLength(e){this.maxLength=e,this.toggleMaxlength([R.changeFilter.of((t=>t.newDoc.length<=e))])}}const pn=e=>{const t=c("tabWidth"),o=c("editorId"),n=c("theme"),a=m(),l=f(),r=new W,s=new W,d=new W,u=new W,h=new W,v=(b=o,y=e,[{key:"Ctrl-b",mac:"Cmd-b",run:()=>(ke.emit(b,He,"bold"),!0)},{key:"Ctrl-d",mac:"Cmd-d",run:K,preventDefault:!0},{key:"Ctrl-s",mac:"Cmd-s",run:e=>(ke.emit(b,we,e.state.doc.toString()),!0),shift:()=>(ke.emit(b,He,"strikeThrough"),!0)},{key:"Ctrl-u",mac:"Cmd-u",run:()=>(ke.emit(b,He,"underline"),!0),shift:()=>(ke.emit(b,He,"unorderedList"),!0)},{key:"Ctrl-i",mac:"Cmd-i",run:()=>(ke.emit(b,He,"italic"),!0),shift:()=>(ke.emit(b,Oe,"image"),!0)},{key:"Ctrl-1",mac:"Cmd-1",run:()=>(ke.emit(b,He,"h1"),!0)},{key:"Ctrl-2",mac:"Cmd-2",run:()=>(ke.emit(b,He,"h2"),!0)},{key:"Ctrl-3",mac:"Cmd-3",run:()=>(ke.emit(b,He,"h3"),!0)},{key:"Ctrl-4",mac:"Cmd-4",run:()=>(ke.emit(b,He,"h4"),!0)},{key:"Ctrl-5",mac:"Cmd-5",run:()=>(ke.emit(b,He,"h5"),!0)},{key:"Ctrl-6",mac:"Cmd-6",run:()=>(ke.emit(b,He,"h6"),!0)},{key:"Ctrl-ArrowUp",mac:"Cmd-ArrowUp",run:()=>(ke.emit(b,He,"sup"),!0)},{key:"Ctrl-ArrowDown",mac:"Cmd-ArrowDown",run:()=>(ke.emit(b,He,"sub"),!0)},{key:"Ctrl-o",mac:"Cmd-o",run:()=>(ke.emit(b,He,"orderedList"),!0)},{key:"Ctrl-c",mac:"Cmd-c",shift:()=>(ke.emit(b,He,"code"),!0),any:(e,t)=>!(!t.ctrlKey&&!t.metaKey||!t.altKey||"KeyC"!==t.code||(ke.emit(b,He,"codeRow"),0))},{key:"Ctrl-l",mac:"Cmd-l",run:()=>(ke.emit(b,Oe,"link"),!0)},{key:"Ctrl-f",mac:"Cmd-f",shift:()=>!y.noPrettier&&(ke.emit(b,He,"prettier"),!0)},{any:(e,t)=>!(!t.ctrlKey&&!t.metaKey||!t.altKey||!t.shiftKey||"KeyT"!==t.code||(ke.emit(b,He,"table"),0))},...$]);var b,y;const k=m(!1),w=((e,t)=>{const o=c("editorId"),n=e=>{e instanceof Promise?e.then((e=>{ke.emit(o,He,"universal",{generate:()=>({targetValue:e})})})).catch((e=>{console.error(e)})):ke.emit(o,He,"universal",{generate:()=>({targetValue:e})})};return a=>{var l,i,r;if(!a.clipboardData)return;if(a.clipboardData.files.length>0){const{files:e}=a.clipboardData;return ke.emit(o,Me,Array.from(e).filter((e=>/image\/.*/.test(e.type)))),void a.preventDefault()}const s=a.clipboardData.getData("text/plain"),c=(null==(l=t.value)?void 0:l.view.state.selection.main.to)||0,d=(null==(i=t.value)?void 0:i.view.state.doc.lineAt(c).from)||0,u=(null==(r=t.value)?void 0:r.view.state.doc.sliceString(d,c))||"",m=/!\[.*\]\(\s*$/.test(u),p=/!\[.*\]\((.*)\s?.*\)/.test(s);if(m){const t=e.transformImgUrl(s);return n(t),void a.preventDefault()}if(p){const t=s.match(new RegExp("(?<=!\\[.*\\]\\()([^)\\s]+)(?=\\s?[\"']?.*[\"']?\\))","g"));return t?Promise.all(t.map((t=>e.transformImgUrl(t)))).then((e=>{n(e.reduce(((e,o,n)=>e.replace(t[n],o)),s))})):n(s),void a.preventDefault()}if(e.autoDetectCode&&a.clipboardData.types.includes("vscode-editor-data")){const e=JSON.parse(a.clipboardData.getData("vscode-editor-data"));return ke.emit(o,He,"code",{mode:e.mode,text:a.clipboardData.getData("text/plain")}),void a.preventDefault()}e.maxlength&&s.length+e.modelValue.length>e.maxlength&&ke.emit(o,je,{name:"overlength",message:"The input text is too long",data:s})}})(e,l),C={paste:w,blur:e.onBlur,focus:e.onFocus,drop:e.onDrop,compositionstart:()=>{k.value=!0},compositionend:(t,o)=>{k.value=!1,e.updateModelValue(o.state.doc.toString())},input:t=>{e.onInput&&e.onInput(t);const{data:n}=t;e.maxlength&&e.modelValue.length+n.length>e.maxlength&&ke.emit(o,je,{name:"overlength",message:"The input text is too long",data:n})}},x=[L.of([...j,...H,...v,M]),u.of(O()),r.of(B({codeLanguages:q})),A.lineWrapping,A.updateListener.of((t=>{t.docChanged&&(e.onChange(t.state.doc.toString()),k.value||e.updateModelValue(t.state.doc.toString()))})),h.of(A.domEventHandlers(C))],T=()=>{const t=[...x,s.of("light"===n.value?rn:Yo),d.of(dn(e.completions))];return pe.codeMirrorExtensions(n.value,t,[...v])};return g((()=>{const n=new A({doc:e.modelValue,parent:a.value,extensions:[T()]}),r=new mn(n);l.value=r,setTimeout((()=>{r.setTabSize(t),r.setDisabled(e.disabled),r.setReadOnly(e.readonly),e.placeholder&&r.setPlaceholder(e.placeholder),"number"==typeof e.maxlength&&r.setMaxLength(e.maxlength),e.autofocus&&n.focus()}),0),ke.on(o,{name:Be,callback(){P(n)}}),ke.on(o,{name:Pe,callback(){V(n)}}),ke.on(o,{name:He,callback(t,n={}){var a,i;if("image"===t&&n.transform){const i=e.transformImgUrl(n.url);if(i instanceof Promise)i.then((e=>{var a;const{text:i,options:r}=qo(t,l.value,{...n,url:e});null==(a=l.value)||a.replaceSelectedText(i,r,o)})).catch((e=>{console.error(e)}));else{const{text:e,options:r}=qo(t,l.value,{...n,url:i});null==(a=l.value)||a.replaceSelectedText(e,r,o)}}else{const{text:e,options:a}=qo(t,l.value,n);null==(i=l.value)||i.replaceSelectedText(e,a,o)}}}),ke.on(o,{name:Re,callback:i((e=>{var t;const o={...C},n=Object.keys(C);for(const a in e){const t=a;n.includes(t)?o[t]=(o,n)=>{e[t](o,n),o.defaultPrevented||C[t](o,n)}:o[t]=e[t]}null==(t=l.value)||t.view.dispatch({effects:h.reconfigure(A.domEventHandlers(o))})}))})})),p(n,(()=>{var e;null==(e=l.value)||e.view.dispatch({effects:s.reconfigure("light"===n.value?rn:Yo)})}),{deep:!0}),p((()=>e.completions),(()=>{var t;null==(t=l.value)||t.view.dispatch({effects:d.reconfigure(dn(e.completions))})}),{deep:!0}),p((()=>e.modelValue),(()=>{var t,o;(null==(t=l.value)?void 0:t.getValue())!==e.modelValue&&(null==(o=l.value)||o.setValue(e.modelValue))})),p((()=>e.placeholder),(()=>{var t;null==(t=l.value)||t.setPlaceholder(e.placeholder)})),p((()=>e.disabled),(()=>{var t;null==(t=l.value)||t.setDisabled(e.disabled)})),p((()=>e.readonly),(()=>{var t;null==(t=l.value)||t.setDisabled(e.readonly)})),p((()=>e.maxlength),(()=>{var t;e.maxlength&&(null==(t=l.value)||t.setMaxLength(e.maxlength))})),{inputWrapperRef:a,codeMirrorUt:l,resetHistory(){var e,t;null==(e=l.value)||e.view.dispatch({effects:u.reconfigure([])}),null==(t=l.value)||t.view.dispatch({effects:u.reconfigure(O())})}}},gn=s({name:"MDEditorContent",props:fo,setup(e,t){const o=c("editorId"),n=m(""),a=m(),l=m(),{inputWrapperRef:i,codeMirrorUt:r,resetHistory:s}=pn(e),{inputWrapperStyle:v,resizeOperateStyle:f}=((e,t,o)=>{const n=u({resizedWidth:e.inputBoxWitdh}),a=u({width:e.inputBoxWitdh}),l=u({left:e.inputBoxWitdh,display:"initial"}),i=o=>{var i,r,s;const c=(null==(i=t.value)?void 0:i.offsetWidth)||0,d=(null==(r=t.value)?void 0:r.getBoundingClientRect().x)||0;let u=o.x-d;u<ge?u=ge:u>c-ge&&(u=c-ge);const m="".concat(u,"px");a.width=m,l.left=m,n.resizedWidth=m,null==(s=e.onInputBoxWitdhChange)||s.call(e,m)},r=()=>{document.addEventListener("mousemove",i)},s=()=>{document.removeEventListener("mousemove",i)};return p([o],(()=>{var e,t;null==(e=o.value)||e.addEventListener("mousedown",r),null==(t=o.value)||t.addEventListener("mouseup",s)}),{immediate:!0}),h((()=>{var e,t;null==(e=o.value)||e.removeEventListener("mousedown",r),null==(t=o.value)||t.removeEventListener("mouseup",s)})),p((()=>e.inputBoxWitdh),(e=>{e&&(a.width=e,l.left=e)})),p([T(e.setting,"htmlPreview"),T(e.setting,"preview")],(()=>{e.setting.htmlPreview||e.setting.preview?(a.width=n.resizedWidth,l.display="initial"):(a.width="100%",l.display="none")}),{immediate:!0}),p((()=>e.setting.previewOnly),(e=>{e?(a.width="0%",l.display="none"):(a.width=n.resizedWidth,l.display="initial")})),{inputWrapperStyle:a,resizeOperateStyle:l}})(e,a,l);return((e,t,o)=>{const n=c("editorId");let a=()=>{},l=()=>{};const i=()=>{a();const t=document.querySelector("#".concat(n," .cm-scroller")),i=document.querySelector('[id="'.concat(n,'-preview-wrapper"]')),r=document.querySelector('[id="'.concat(n,'-html-wrapper"]'));if(i||r){const n=i?Wo:_o,s=i||r;[l,a]=n(t,s,o.value),e.scrollAuto&&l()}};p([t,T(e.setting,"preview"),T(e.setting,"htmlPreview"),T(e.setting,"fullscreen"),T(e.setting,"pageFullscreen")],(()=>{y(i)})),p((()=>e.scrollAuto),(e=>{e?l():a()})),p((()=>e.setting.previewOnly),(e=>{e?a():l()})),g(i)})(e,n,r),t.expose({getSelectedText(){var e;return null==(e=r.value)?void 0:e.getSelectedText()},focus(e){var t;null==(t=r.value)||t.focus(e)},resetHistory:s}),()=>d("div",{class:"".concat(te,"-content").concat(e.setting.htmlPreview||e.setting.preview?" has-preview":""),ref:a},[d("div",{class:"".concat(te,"-input-wrapper"),style:v,ref:i},null),(e.setting.htmlPreview||e.setting.preview)&&d("div",{class:"".concat(te,"-resize-operate"),style:f,ref:l},null),d(bo,{modelValue:e.modelValue,setting:e.setting,onHtmlChanged:t=>{n.value=t,e.onHtmlChanged(t)},onGetCatalog:e.onGetCatalog,mdHeadingId:e.mdHeadingId,noMermaid:e.noMermaid,sanitize:e.sanitize,noKatex:e.noKatex,formatCopiedText:e.formatCopiedText,noHighlight:e.noHighlight,noImgZoomIn:e.noImgZoomIn,sanitizeMermaid:e.sanitizeMermaid,codeFoldable:e.codeFoldable,autoFoldThreshold:e.autoFoldThreshold},null),e.catalogVisible&&d(Eo,{theme:e.theme,class:"".concat(te,"-catalog-editor"),editorId:o,mdHeadingId:e.mdHeadingId,key:"internal-catalog"},null)])}}),hn=s({props:{modelValue:{type:String,default:""}},setup(e){const t=c("usedLanguageText");return()=>{var o,n;return d("div",{class:"".concat(te,"-footer-item")},[d("label",{class:"".concat(te,"-footer-label")},["".concat(null==(o=t.value.footer)?void 0:o.markdownTotal,":")]),d("span",null,[(null==(n=e.modelValue)?void 0:n.length)||0])])}}}),vn=s({props:{checked:{type:Boolean,default:!1},onChange:{type:Function,default:()=>{}}},setup:e=>()=>d("div",{class:["".concat(te,"-checkbox"),e.checked&&"".concat(te,"-checkbox-checked")],onClick:()=>{e.onChange(!e.checked)}},null)}),fn=s({props:{scrollAuto:{type:Boolean},onScrollAutoChange:{type:Function,default:()=>{}}},setup(e){const t=c("usedLanguageText");return()=>{var o;return d("div",{class:"".concat(te,"-footer-item")},[d("label",{class:"".concat(te,"-footer-label"),onClick:()=>{e.onScrollAutoChange(!e.scrollAuto)}},[null==(o=t.value.footer)?void 0:o.scrollAuto]),d(vn,{checked:e.scrollAuto,onChange:e.onScrollAutoChange},null)])}}}),bn=s({name:"MDEditorFooter",props:{modelValue:{type:String,default:""},footers:{type:Array,default:[]},scrollAuto:{type:Boolean},onScrollAutoChange:{type:Function,default:()=>{}},defFooters:{type:Object}},setup(e){const t=b((()=>{const t=e.footers.indexOf("=");return[-1===t?e.footers:e.footers.slice(0,t),-1===t?[]:e.footers.slice(t,Number.MAX_SAFE_INTEGER)]})),o=t=>{if(!se.includes(t))return e.defFooters instanceof Array?e.defFooters[t]||"":e.defFooters&&e.defFooters.children instanceof Array&&e.defFooters.children[t]||"";switch(t){case"markdownTotal":return d(hn,{modelValue:e.modelValue},null);case"scrollSwitch":return d(fn,{scrollAuto:e.scrollAuto,onScrollAutoChange:e.onScrollAutoChange},null)}};return()=>{const e=t.value[0].map((e=>o(e))),n=t.value[1].map((e=>o(e)));return d("div",{class:"".concat(te,"-footer")},[d("div",{class:"".concat(te,"-footer-left")},[e]),d("div",{class:"".concat(te,"-footer-right")},[n])])}}}),yn=s({name:"MdEditorV3",props:Co,emits:To,setup(e,t){const{editorId:o,noKatex:n,noMermaid:a,noPrettier:l,noUploadImg:i,noHighlight:r}=e,s=u({scrollAuto:e.scrollAuto}),c=m();((e,t)=>{const{editorId:o}=e,n=u({buildFinished:!1,html:""});p((()=>e.modelValue),(()=>{n.buildFinished=!1})),g((()=>{ke.on(o,{name:Le,callback(e){n.buildFinished=!0,n.html=e}}),ke.on(o,{name:we,callback(){const a=new Promise((e=>{if(n.buildFinished)e(n.html);else{const t=n=>{e(n),ke.remove(o,Le,t)};ke.on(o,{name:Le,callback:t})}}));e.onSave?e.onSave(e.modelValue,a):t.emit("onSave",e.modelValue,a)}})}))})(e,t),(e=>{yo(e),C("tabWidth",e.tabWidth)})(e),(e=>{const{noPrettier:t,noUploadImg:o}=e,{editorExtensions:n,editorExtensionsAttrs:a}=pe,l=t||n.prettier.prettierInstance,i=t||n.prettier.parserMarkdownInstance,r=o||n.cropper.instance;g((()=>{if(!r){const{js:e={},css:t={}}=a.cropper||{};_e("link",{...t,rel:"stylesheet",href:n.cropper.css,id:"".concat(te,"-cropperCss")}),_e("script",{...e,src:n.cropper.js,id:"".concat(te,"-cropper")})}if(!l){const{standaloneJs:e={}}=a.prettier||{};_e("script",{...e,src:n.prettier.standaloneJs,id:"".concat(te,"-prettier")})}if(!i){const{parserMarkdownJs:e={}}=a.prettier||{};_e("script",{...e,src:n.prettier.parserMarkdownJs,id:"".concat(te,"-prettierMD")})}})),ko(e)})(e),((e,t)=>{const{editorId:o}=e;g((()=>{ke.on(o,{name:je,callback:o=>{e.onError instanceof Function?e.onError(o):t.emit("onError",o)}})}))})(e,t);const[v,f]=((e,t)=>{const{editorId:o}=e,n=u({pageFullscreen:e.pageFullscreen,fullscreen:!1,preview:e.preview,htmlPreview:!e.preview&&e.htmlPreview,previewOnly:!1});let a="";const l=()=>{n.pageFullscreen||n.fullscreen?document.body.style.overflow="hidden":document.body.style.overflow=a};return p((()=>[n.pageFullscreen,n.fullscreen]),l),g((()=>{ke.on(o,{name:Me,callback(n,a){const l=e=>{ke.emit(o,He,"image",{desc:"",urls:e}),a&&a()};e.onUploadImg?e.onUploadImg(n,l):t.emit("onUploadImg",n,l)}}),a=document.body.style.overflow,l()})),[n,(e,t)=>{n[e]=void 0===t?!n[e]:t,"preview"===e?(n.htmlPreview=!1,n.previewOnly=!1):"htmlPreview"===e?(n.preview=!1,n.previewOnly=!1):"previewOnly"!==e||n.preview||n.htmlPreview||(n.preview=!0)}]})(e,t),y=(e=>{const{editorId:t}=e,o=m(!1);return g((()=>{ke.on(t,{name:Ce,callback:e=>{o.value=void 0===e?!o.value:e}})})),b((()=>!e.toolbarsExclude.includes("catalog")&&e.toolbars.includes("catalog")&&o.value))})(e);return h((()=>{ke.clear(o)})),((e,t,o,n,a,l)=>{const{editorId:i}=e;p((()=>n.pageFullscreen),(e=>{ke.emit(i,Te,e)})),p((()=>n.fullscreen),(e=>{ke.emit(i,Se,e)})),p((()=>n.preview),(e=>{ke.emit(i,Ie,e)})),p((()=>n.previewOnly),(e=>{ke.emit(i,Ae,e)})),p((()=>n.htmlPreview),(e=>{ke.emit(i,Ee,e)})),p(o,(e=>{ke.emit(i,Fe,e)}));const r={on(e,t){switch(e){case"pageFullscreen":ke.on(i,{name:Te,callback(e){t(e)}});break;case"fullscreen":ke.on(i,{name:Se,callback(e){t(e)}});break;case"preview":ke.on(i,{name:Ie,callback(e){t(e)}});break;case"previewOnly":ke.on(i,{name:Ae,callback(e){t(e)}});break;case"htmlPreview":ke.on(i,{name:Ee,callback(e){t(e)}});break;case"catalog":ke.on(i,{name:Fe,callback(e){t(e)}})}},togglePageFullscreen(e){a("pageFullscreen",e)},toggleFullscreen(e){ke.emit(i,xe,e)},togglePreview(e){a("preview",e)},togglePreviewOnly(e){a("previewOnly",e)},toggleHtmlPreview(e){a("htmlPreview",e)},toggleCatalog(e){ke.emit(i,Ce,e)},triggerSave(){ke.emit(i,we)},insert(e){ke.emit(i,He,"universal",{generate:e})},focus(e){var t;null==(t=l.value)||t.focus(e)},rerender(){ke.emit(i,De)},getSelectedText(){var e;return null==(e=l.value)?void 0:e.getSelectedText()},resetHistory(){var e;null==(e=l.value)||e.resetHistory()},domEventHandlers(e){ke.emit(i,Re,e)},execCommand(e){ke.emit(i,He,e)}};t.expose(r)})(e,t,y,v,f,c),()=>{const u=he({props:e,ctx:t},"defToolbars"),m=he({props:e,ctx:t},"defFooters");return d("div",{id:o,class:[te,e.class,"dark"===e.theme&&"".concat(te,"-dark"),v.fullscreen||v.pageFullscreen?"".concat(te,"-fullscreen"):""],style:e.style},[e.toolbars.length>0&&d(Do,{noPrettier:l,toolbars:e.toolbars,toolbarsExclude:e.toolbarsExclude,setting:v,updateSetting:f,tableShape:e.tableShape,defToolbars:u,noUploadImg:i,showToolbarName:e.showToolbarName},null),d(gn,{ref:c,modelValue:e.modelValue,setting:v,mdHeadingId:e.mdHeadingId,noMermaid:a,noPrettier:l,sanitize:e.sanitize,placeholder:e.placeholder,noKatex:n,scrollAuto:s.scrollAuto,formatCopiedText:e.formatCopiedText,autofocus:e.autoFocus,disabled:e.disabled,readonly:e.readOnly,maxlength:e.maxLength,autoDetectCode:e.autoDetectCode,noHighlight:r,updateModelValue:e=>{t.emit("update:modelValue",e)},onChange:o=>{e.onChange&&e.onChange(o),t.emit("onChange",o)},onHtmlChanged:o=>{e.onHtmlChanged&&e.onHtmlChanged(o),t.emit("onHtmlChanged",o)},onGetCatalog:o=>{e.onGetCatalog&&e.onGetCatalog(o),t.emit("onGetCatalog",o)},onBlur:o=>{e.onBlur&&e.onBlur(o),t.emit("onBlur",o)},onFocus:o=>{e.onFocus&&e.onFocus(o),t.emit("onFocus",o)},onInput:o=>{e.onInput&&e.onInput(o),t.emit("onInput",o)},completions:e.completions,catalogVisible:y.value,theme:e.theme,noImgZoomIn:e.noImgZoomIn,onDrop:o=>{e.onDrop&&e.onDrop(o),t.emit("onDrop",o)},inputBoxWitdh:e.inputBoxWitdh,onInputBoxWitdhChange:o=>{e.onInputBoxWitdhChange&&e.onInputBoxWitdhChange(o),t.emit("onInputBoxWitdhChange",o)},sanitizeMermaid:e.sanitizeMermaid,transformImgUrl:e.transformImgUrl,codeFoldable:e.codeFoldable,autoFoldThreshold:e.autoFoldThreshold},null),e.footers.length>0&&d(bn,{modelValue:e.modelValue,footers:e.footers,defFooters:m,scrollAuto:s.scrollAuto,onScrollAutoChange:e=>s.scrollAuto=e},null)])}}});yn.install=e=>(e.component(yn.name,yn),e.use(Fo).use(fe).use(Lo).use(Eo).use(So),e);export{yn as E};
